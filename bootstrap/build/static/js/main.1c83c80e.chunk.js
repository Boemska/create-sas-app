(this.webpackJsonpboemskaseedcra=this.webpackJsonpboemskaseedcra||[]).push([[0],{123:function(e,t){e.exports="data:image/png;base64,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"},139:function(e,t,a){e.exports=a(231)},144:function(e,t,a){},146:function(e,t,a){},150:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},166:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},229:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),i=(a(144),a(5)),l=a(6),c=a(9),u=a(8),m=(a(145),a(146),a(10)),p=a(11),d=(a(150),a(19)),h=a(97),g=a.n(h),f=a(69),v=a.n(f),b={metadataRoot:"/Public/Agri App/",hostUrl:"",ajaxTimeout:6e5,sasVersion:"viya"},E="SET_SHOULD_LOGIN";function y(e,t){e({type:E,state:t})}var O="SET_REQUEST",k="REMOVE_REQUEST";function D(e,t,a){e({type:O,payload:{promise:t,params:a}})}var N=a(38),A=a.n(N);A.a.options.progressBar=!0;var w=new(function(){function e(){Object(i.a)(this,e),this.requests=new Map,this.shouldLogin=!0,this._adapter=new g.a(b);var t=localStorage.getItem("debugMode");t&&(t=JSON.parse(t)),this.setDebugMode(t||!1)}return Object(l.a)(e,[{key:"_callback",value:function(e,t,a,n,r){if(e){if("notLoggedinError"===e.type)y(r,!0);else if(e)return n(e)}else if(!e&&t)return this.handleUserMessage(t),a(t)}},{key:"_handleRequest",value:function(e,t,a){D(e,t,{program:a,running:!0,successful:void 0}),t.then((function(){D(e,t,{running:!1,successful:!0,timestamp:new Date})})).catch((function(){D(e,t,{running:!1,successful:!1,timestamp:new Date})}))}},{key:"login",value:function(e,t,a){var n=this;return new Promise((function(r,s){"v9"===b.sasVersion?n._adapter.login(t,a,(function(t){200!==t&&449!==t||(y(e,!1),r(t));var a="There was a problem.";s(-1===t?a="Username or password invalid":-2===t?a="Problem communicating with server":a)})):n._adapter.promiseLogin(t,a).then((function(t){200!==t&&449!==t||(y(e,!1),r(t));var a="There was a problem.";s(-1===t?a="Username or password invalid":-2===t?a="Problem communicating with server":a)})).catch((function(e){var t="There was a problem.";401===e&&(t="Username or password invalid"),console.log(t),s(t)}))}))}},{key:"managedRequest",value:function(e,t,a,n){var r=this,s=Object(d.a)({useMultipartFormData:!0},n),o=new Promise((function(n,o){r._adapter.managedRequest(t,a,Object(d.a)({callback:function(t,a){return r._callback(t,a,n,o,e)}},s))}));return this._handleRequest(e,o,a),o}},{key:"call",value:function(e,t,a){var n=this,r=new Promise((function(r,s){n._adapter.call(t,a,(function(t,a){return n._callback(t,a,r,s,e)}))}));return this._handleRequest(e,r,t),r}},{key:"logout",value:function(){var e=this;return new Promise((function(t,a){e._adapter.logout((function(e){void 0!==e?a(new Error("Logout failed with status code ".concat(e))):t()}))}))}},{key:"createTable",value:function(e,t){return new g.a.SasData(e,t)}},{key:"getDebugMode",value:function(){return this._debugMode}},{key:"setDebugMode",value:function(e){localStorage.setItem("debugMode",e),this._debugMode=this._adapter.debug=e}},{key:"getObjOfTable",value:function(e,t,a){return v.a.getObjOfTable(e,t,a)}},{key:"handleUserMessage",value:function(e){e.usermessage&&"blank"!==e.usermessage&&A.a.info(e.usermessage)}},{key:"getFolderDetails",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Promise((function(r,s){a._adapter.getFolderDetails(t,Object(d.a)({callback:function(t,n){return a._callback(t,n,r,s,e)}},n))}));return this._handleRequest(e,r,"Get details for "+t),r}},{key:"getFileDetails",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Promise((function(r,s){a._adapter.getFileDetails(t,Object(d.a)({callback:function(t,n){return a._callback(t,n,r,s,e)}},n))}));return this._handleRequest(e,r,"Get "+t),r}},{key:"getFileContent",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Promise((function(r,s){a._adapter.getFileContent(t,Object(d.a)({callback:function(t,n){return a._callback(t,n,r,s,e)}},n))}));return this._handleRequest(e,r,"Get conten for "+t),r}},{key:"getFolderContents",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Promise((function(r,s){a._adapter.getFolderContents(t,Object(d.a)({callback:function(t,n){return a._callback(t,n,r,s,e)}},n))}));return this._handleRequest(e,r,"Get folder content "+t),r}},{key:"createNewFolder",value:function(e,t,a){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=new Promise((function(s,o){n._adapter.createNewFolder(t,a,Object(d.a)({callback:function(t,a){return n._callback(t,a,s,o,e)}},r))}));return this._handleRequest(e,s,"Create "+a),s}},{key:"createNewFile",value:function(e,t,a,n){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=new Promise((function(o,i){r._adapter.createNewFile(t,a,n,Object(d.a)({callback:function(t,a){return r._callback(t,a,o,i,e)}},s))}));return this._handleRequest(e,o,"Create "+t),o}},{key:"deleteItem",value:function(e,t){var a=this,n=new Promise((function(n,r){a._adapter.deleteItem(t,{callback:function(t,s){return a._callback(t,s,n,r,e)}})}));return this._handleRequest(e,n,"Delete "+t),n}},{key:"updateFile",value:function(e,t,a,n){var r=this,s=new Promise((function(s,o){r._adapter.updateFile(t,a,n,{callback:function(t,a){return r._callback(t,a,s,o,e)}})}));return this._handleRequest(e,s,"Update "+t),s}}]),e}());var j={results:{title:"Results Submission",content:"If you have already collected an aggregated results dataset and are looking to submit it, you may do so through this part of the application. \u2028\u2028Datasets must be in XML format, and cleaned, and maybe some other stuff.",button:"Submit"},interview:{title:"Interview Mode",content:"If you are an agent collecting data by directly interviewing farmers, then this is the button to click.\n\nThere may be some other guidance data that we put here, but for now here is some more placeholder text.",button:"Interview"},figures:{title:"Submit my figures",content:"If you are a farmer and you\u2019re here to directly complete the questionnaire for your farm, then this is definitely the box you will be most interested in. This is the one. Don\u2019t look at any others.\n\nGood luck.",button:"Complete"}},C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={error:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t={};return this.props.globalData.role_permissions&&this.props.globalData.role_permissions.forEach((function(e){return t[e.role]=!!parseInt(e.permitted)})),console.log("FIELDS",t),r.a.createElement("div",{className:"home"},Object.keys(t).map((function(a,n){return t[a]?r.a.createElement("div",{key:a+n,className:"dgButton"},r.a.createElement("div",{className:"header"},j[a].title),r.a.createElement("div",{className:"content"},j[a].content),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{className:"pull-right",onClick:function(){return e.props.history.push("/".concat(a))}},j[a].button)),e.state.error&&r.a.createElement("div",{className:"text-red"},e.state.error)):null})))}}]),a}(r.a.Component);var S=Object(m.f)(Object(p.b)((function(e){return{mainSpinner:e.header.mainSpinner,userData:e.home.userData,globalData:e.home.globalData}}),(function(e){return{}}))(C)),I=(a(159),function(){return r.a.createElement("footer",{className:"bfooter"},"Boemska Technology Solutions Limited")}),x=a(70),L=a.n(x),B=(a(160),a(137)),q=a(12),F=(a(161),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={requests:[],loading:!1,callsListToogle:!1},n.toogleDropDown=n.toogleDropDown.bind(Object(q.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRequestsList(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.requests!==e.requests&&this.getRequestsList(e)}},{key:"getRequestsList",value:function(e){var t,a=Array.from(e.requests.values()).reverse(),n=!1,r=Object(B.a)(a);try{for(r.s();!(t=r.n()).done;){if(t.value.running){n=!0;break}}}catch(s){r.e(s)}finally{r.f()}this.loading=n,this.setState({loading:n,requests:a})}},{key:"toogleDropDown",value:function(){this.setState({callsListToogle:!this.state.callsListToogle})}},{key:"render",value:function(){return r.a.createElement("div",{className:"loadingIndicator"},r.a.createElement("div",{className:"pulseLoader",onClick:this.toogleDropDown,title:"Toggle notification bar"},this.state.loading&&r.a.createElement("div",{className:"mainSpinner"},r.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})),!this.state.loading&&this.state.requests.length>0&&!this.state.requests[0].successful&&r.a.createElement("div",{className:"status fail"},r.a.createElement("i",{className:"fas fa-2x fa-exclamation-triangle"})),!this.state.loading&&this.state.requests.length>0&&this.state.requests[0].successful&&r.a.createElement("div",{className:"status success"},r.a.createElement("i",{className:"far fa-check-circle fa-2x"}))),this.state.callsListToogle&&this.state.requests.length>0&&r.a.createElement("div",{className:"dropDownList"},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{className:"arrowUp"})),this.state.requests.map((function(e,t){return r.a.createElement("div",{className:"item",key:t},e.program,!e.running&&e.successful&&r.a.createElement("i",{className:"far fa-check-circle text-success align-self-center"}),!e.running&&!e.successful&&r.a.createElement("i",{className:"fas fa-times-circle text-danger align-self-center"}),e.running&&r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-spinner fa-spin fa-fw text-primary"})))}))))}}]),a}(r.a.Component));var R=Object(p.b)((function(e){return{requests:e.adapter.requests}}))(F),T=(a(162),a(123)),_=a.n(T),M=a(124),P=a.n(M),U=(a(166),function(e){var t=e.value,a=e.background,n=e.width,s=e.height,o=e.color;return r.a.createElement("div",{className:"badge",style:{backgroundColor:a,width:n,height:s,color:o}},r.a.createElement("span",null,t))}),G=a(45),H=a.n(G),J=a(100),Q={TEST:"TEST",MAIN_SPINNER:"MAIN_SPINNER",SET_USER_DATA:"SET_USER_DATA",SET_GLOBAL_DATA:"SET_GLOBAL_DATA",SET_QUESTION_DATA:"SET_QUESTION_DATA",SET_LANGUAGE:"SET_LANGUAGE"},Y="/identities/users/@currentUser",W="/identities/users/@currentUser/avatar/content";function V(){return(V=Object(J.a)(H.a.mark((function e(t){var a,n,r,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Y,e.prev=1,e.next=4,w.managedRequest(t,"get",a,{});case 4:n=e.sent,r=n.body,s=w._adapter.hostUrl+W,r.userAvatar=s,K(t,r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function K(e,t){e({type:Q.SET_USER_DATA,payload:t})}function z(e,t){e({type:Q.SET_GLOBAL_DATA,payload:t})}var X=a(125),Z=a.n(X),$=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).statusBarShow=n.statusBarShow.bind(Object(q.a)(n)),n.logout=n.logout.bind(Object(q.a)(n)),n.handleSwitchChange=n.handleSwitchChange.bind(Object(q.a)(n)),n.state={statusBar:!1,debugMode:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getUserData();var t=localStorage.getItem("debugMode");t=!!t&&JSON.parse(t),this.setState({debugMode:t},(function(){w.setDebugMode(e.state.debugMode)}))}},{key:"logout",value:function(){var e=this;w.logout().then((function(){e.props.setUserData(null),e.props.getUserData()})).catch((function(e){A.a.error("Something went wrong!")}))}},{key:"statusBarShow",value:function(e){this.setState({statusBar:e})}},{key:"handleSwitchChange",value:function(){var e=this;this.setState({debugMode:!this.state.debugMode},(function(){w.setDebugMode(e.state.debugMode)}))}},{key:"render",value:function(){var e=this,t=this.props.userData&&(this.props.userData.name||this.props.userData.userDetails&&this.props.userData.userDetails[0].USERNAME),a=this.props.userData&&(this.props.userData.userAvatar||this.props.userData.userDetails&&this.props.userData.userDetails[0].AVATAR_URI);return r.a.createElement("div",{tabIndex:"0",className:"info-bar-drop"},r.a.createElement("div",{className:"info-header",onClick:function(){return e.setState({statusBar:!e.state.statusBar})}},r.a.createElement("img",{src:this.props.userData?a:_.a,alt:"avatar"}),this.props.userData?r.a.createElement("span",{className:"title"},t):r.a.createElement("span",{className:"title"},"Not logged in"),r.a.createElement("i",{className:"fas fa-caret-left fa-1x ".concat(this.state.statusBar?"arrowDown":"")})),r.a.createElement(Z.a,{transitionName:"notifications",transitionEnterTimeout:0,transitionLeaveTimeout:0},this.state.statusBar&&r.a.createElement("div",{className:"status-drop-down"},r.a.createElement("div",{className:"toggleItem",onClick:this.handleSwitchChange},r.a.createElement("div",{className:"toggle"},"Debug Mode",r.a.createElement(P.a,{id:"cheese-status",checked:this.state.debugMode,onChange:this.handleSwitchChange}))),r.a.createElement("div",{className:"item",onClick:function(){e.props.history.push("/applicationLogs")}},r.a.createElement("span",null,"Application Logs"),r.a.createElement(U,{background:"#737373",value:this.props.logs&&this.props.logs.applicationLogs.length>0?this.props.logs.applicationLogs.length:0,color:"#ffffff"})),!this.state.debugMode&&r.a.createElement("div",{className:"item",onClick:function(){e.props.history.push("/failedRequests")}},r.a.createElement("span",null,"Failed Requests"),r.a.createElement(U,{background:"#e12200",value:this.props.logs&&this.props.logs.failedRequests.length>0?this.props.logs.failedRequests.length:0,color:"#ffffff"})),this.state.debugMode&&r.a.createElement("div",{className:"item",onClick:function(){e.props.history.push("/debugLogs")}},r.a.createElement("span",null,"Debug Logs"),r.a.createElement(U,{background:"#0079b8",value:this.props.logs&&this.props.logs.debugData.length>0?this.props.logs.debugData.length:0,color:"#ffffff"})),r.a.createElement("div",{className:"item",onClick:function(){e.props.history.push("/errorLogs")}},r.a.createElement("span",null,"Errors"),r.a.createElement(U,{background:"#fdcf08",value:this.props.logs&&this.props.logs.sasErrors.length>0?this.props.logs.sasErrors.length:0,color:"#000000"})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"item logout",onClick:this.logout},r.a.createElement("span",null,"Log Out"),r.a.createElement("i",{className:"fas fa-sign-out-alt fa-1x"})))))}}]),a}(r.a.PureComponent);var ee=Object(m.f)(Object(p.b)((function(e){return{userData:e.home.userData,logs:e.adapter.logs}}),(function(e){return{getUserData:function(){return function(e){return V.apply(this,arguments)}(e)},setUserData:function(t){return K(e,t)}}}))($)),te=a(55),ae=a.n(te),ne=(a(179),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).requestsWatcher=function(){n.requestsWatcherInterval=setInterval((function(){Array.from(n.props.requests.keys()).forEach((function(e){var t=n.props.requests.get(e);ae()().diff(ae()(t.timestamp),"seconds")>360&&n.props.removeRequest(e)}))}))},n.requestsWatcherInterval=null,n.state={error:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.requestsWatcher()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.userData!==e.userData&&e.userData&&e.userData.id&&(this.setState({error:""}),this.props.managedRequest(null,null,{sasProgram:"General/startupService",dataObj:null}).then((function(e){return t.props.setGlobalData(e),e.qnr_locations&&e.qnr_locations[0]&&e.qnr_locations[0].file})).then((function(e){e&&t.props.managedRequest("get",e+"/content",{}).then((function(e){var a=function(e){var t=e,a={};t.farm_return.tables.table.forEach((function(e){a[e.id_table]=e}));var n={};t.farm_return.groups.group.forEach((function(e){n[e.id_group]=e}));var r={};t.farm_return.categories.category.forEach((function(e){r[e.id_category]=e}));var s={};t.farm_return.columns.column.forEach((function(e){s[e.id_column]=e}));var o=[];t.farm_return.tables.table.forEach((function(e){var t={};(t=a[e.id_table]).groups=[],e.allowed_groups.split(",").forEach((function(e){t.groups.push(n[e])})),o.push(t)}));var i={};return o.forEach((function(e){e.groups.forEach((function(e){var t=e.id_group,a=Object(d.a)({},n[t]);a.categories={},e.allowed_categories.split(",").forEach((function(e){var n=r[e];n.columns=[],r[e].allowed_columns.split(",").forEach((function(e){n.columns.push(s[e]),a.categories[n.id_category]=n,i[t]=a}))}))}))})),{navbar:o,collection:i}}(e.body);t.props.setQuestionData(a)}))})).catch((function(e){t.setState({error:e.message}),console.log(e)}))),this.props.globalData!==e.globalData){var a="en",n=e.globalData.settings;if(n)for(var r;r=0;n.length,r++)if("language"===n[r].property){a=n[r].value;break}this.props.setLanguage(a)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.requestsWatcherInterval)}},{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("div",{className:"logoContainer"},r.a.createElement("img",{src:L.a,alt:"logo",onClick:function(){e.props.history.push("/")}}),r.a.createElement("div",{className:"appName"},r.a.createElement("span",{className:"big"},"FADN"),r.a.createElement("span",{className:"small"},"Farm Accountancy Data Network")),this.state.error&&r.a.createElement("span",{className:"text-danger"},this.state.error)),r.a.createElement("div",{className:"info-block"},r.a.createElement(R,null),r.a.createElement(ee,null)))}}]),a}(r.a.PureComponent));var re=Object(m.f)(Object(p.b)((function(e){return{requests:e.adapter.requests,userData:e.home.userData,globalData:e.home.globalData,questionData:e.home.questionData}}),(function(e){return{removeRequest:function(t){return function(e,t){e({type:k,payload:t})}(e,t)},managedRequest:function(t,a,n){return w.managedRequest(e,t,a,n)},setGlobalData:function(t){return z(e,t)},setQuestionData:function(t){return function(e,t){e({type:Q.SET_QUESTION_DATA,payload:t})}(e,t)},setLanguage:function(t){return function(e,t){e({type:Q.SET_LANGUAGE,payload:t})}(e,t)}}}))(ne)),se=a(238),oe=a(234),ie=a(127),le=a(239),ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app flex-row align-items-center"},r.a.createElement(se.a,null,r.a.createElement(oe.a,{className:"justify-content-center"},r.a.createElement(ie.a,{md:"6"},r.a.createElement("span",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"500"),r.a.createElement("h4",{className:"pt-3"},"Houston, we have a problem!"),r.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for is temporarily unavailable.")),r.a.createElement(le.a,{className:"mb-4",color:"info",onClick:function(){e.props.history.push("/")}},"Get back to home")))))}}]),a}(n.Component),ue=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app flex-row align-items-center"},r.a.createElement(se.a,null,r.a.createElement(oe.a,{className:"justify-content-center"},r.a.createElement(ie.a,{md:"6"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("h1",{className:"float-left display-3 mr-4"},"404"),r.a.createElement("h4",{className:"pt-3"},"Oops! You're lost."),r.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for was not found."),r.a.createElement(le.a,{className:"mb-4",color:"info",onClick:function(){e.props.history.push("/")}},"Get back on the right path"))))))}}]),a}(n.Component),me=Object(m.f)(ue),pe=document.getElementById("portal"),de=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){pe.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){pe.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return o.a.createPortal(e,this.el)}}]),a}(r.a.Component),he=a(236),ge=a(23),fe=a(237),ve=a(128),be=a(235),Ee=(a(180),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"jimdemo",password:"Bigballs1",error:""},n.login=n.login.bind(Object(q.a)(n)),n.validateEmail=n.validateEmail.bind(Object(q.a)(n)),n.validatePassword=n.validatePassword.bind(Object(q.a)(n)),n.onInputChange=n.onInputChange.bind(Object(q.a)(n)),n}return Object(l.a)(a,[{key:"login",value:function(){var e=this;this.setState({error:"",validated:!0}),this.props.login(this.state.username,this.state.password).then((function(e){console.log("login response",e)})).catch((function(t){return e.setState({error:t.message})}))}},{key:"validateEmail",value:function(){if(this.state.username)return this.state.username.length>4?"success":"error"}},{key:"validatePassword",value:function(){if(this.state.password)return this.state.password.length>2?"success":"error"}},{key:"onInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(ge.a)({},t,a))}},{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"flex justify-content-center align-items-center"},r.a.createElement(se.a,{className:"w100 mb0"},r.a.createElement(oe.a,{className:"loginForm"},r.a.createElement(ie.a,{md:12},r.a.createElement(fe.a,{noValidate:!0,validated:this.state.validated},r.a.createElement("h1",null,"Login"),r.a.createElement("p",{className:"text-muted"},"Sign In to your account"),r.a.createElement(ve.a,null,r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement(fe.a.Control,{name:"username",className:"textInput",placeholder:"Username",value:this.state.username,onChange:this.onInputChange,required:!0}))),r.a.createElement(ve.a,null,r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement("i",{className:"fas fa-lock"})),r.a.createElement(fe.a.Control,{name:"password",placeholder:"Password",type:"password",value:this.state.password,onChange:this.onInputChange,required:!0}))),r.a.createElement(oe.a,null,r.a.createElement(ie.a,{md:12},r.a.createElement(le.a,{onClick:this.login,bsstyle:"primary",disabled:"error"===this.validateEmail()||"error"===this.validatePassword()||!this.state.username||!this.state.password,className:"pull-right"},"Login"),this.state.error&&r.a.createElement("div",{className:"text-danger"},this.state.error)))))))))}}]),a}(n.Component));var ye=Object(m.f)(Object(p.b)((function(){return{}}),(function(e){return{login:function(t,a){return w.login(e,t,a)}}}))(Ee)),Oe=(a(181),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(he.a,{bssize:"small",className:"h100 flex-important align-items-center",show:this.props.shouldLogin,dialogClassName:"loginModal"},r.a.createElement(he.a.Body,null,r.a.createElement(ye,null)))}}]),a}(r.a.PureComponent));var ke=Object(p.b)((function(e){return{shouldLogin:e.login.shouldLogin}}))(Oe),De=(a(182),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"goBackButton",title:"Back"},r.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return e.props.history.goBack()}}))}}]),a}(r.a.PureComponent)),Ne=Object(m.f)(De),Ae=function(e){var t=e.log;if(t){var a=void 0===t.sasProgram?"Unknown service name":t.sasProgram;return r.a.createElement("div",null,r.a.createElement("div",{className:"pull-left"},a),t&&t.time&&r.a.createElement("div",{className:"pull-right"},ae()(t.time).format("MMM Do YYYY h:mm:ss")))}return null},we=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.logs.applicationLogs;return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement("h2",{className:"text-center"}," Application Logs"),e&&e.length>0?e.map((function(e,t){return r.a.createElement("div",{className:"item",key:t},r.a.createElement(Ae,{log:e}),r.a.createElement("br",null),r.a.createElement("pre",null,e.message))})):r.a.createElement("h4",{className:"text-center text-danger"},"Application logs list is empty!"))}}]),a}(r.a.Component);var je=Object(p.b)((function(e){return{logs:e.adapter.logs}}))(we),Ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.logs.failedRequests;return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement("h2",{className:"text-center"}," Failed Requests"),e&&e.length>0?e.map((function(e,t){return r.a.createElement("div",{className:"item",key:t},r.a.createElement(Ae,{log:e}),r.a.createElement("br",null),r.a.createElement("pre",null,e.message))})):r.a.createElement("h4",{className:"text-center text-danger"},"Failed Requests list is empty!"))}}]),a}(r.a.Component);var Se=Object(p.b)((function(e){return{logs:e.adapter.logs}}))(Ce),Ie=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.logs.sasErrors;return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement("h2",{className:"text-center"}," Error Logs"),e&&e.length>0?e.map((function(e,t){return r.a.createElement("div",{className:"item",key:t},r.a.createElement(Ae,null),r.a.createElement("br",null),r.a.createElement("pre",null,e.message))})):r.a.createElement("h4",{className:"text-center text-danger"},"Error logs list is empty!"))}}]),a}(r.a.Component);var xe=Object(p.b)((function(e){return{logs:e.adapter.logs}}))(Ie),Le=(a(183),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={collapsed:!1},n}return Object(l.a)(a,[{key:"collapse",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var e=this,t=this.state.collapsed?"open":"";return r.a.createElement("div",{className:"boCollapsible"},r.a.createElement("div",{className:"title",onClick:function(){e.collapse()}},r.a.createElement("i",{className:"fas fa-caret-right fa-1x  ".concat(t)}),"function"===typeof this.props.title?this.props.title():this.props.title),r.a.createElement("div",{className:"content ".concat(t)},"function"===typeof this.props.content?this.props.content():this.props.content))}}]),a}(r.a.Component)),Be=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.logs.debugData;return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement("h2",{className:"text-center"}," Debug Logs"),e&&e.length>0?e.map((function(e,t){return r.a.createElement(Le,{title:r.a.createElement(Ae,{log:e}),content:function(){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.debugHtml}})},key:t})})):r.a.createElement("h4",{className:"text-center text-danger"}," Debug List is empty!"))}}]),a}(r.a.Component);var qe=Object(p.b)((function(e){return{logs:e.adapter.logs}}))(Be),Fe=a(129),Re=a(72),Te=a.n(Re),_e=(a(204),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={error:"",file:null,formData:null,ap:"",country:""},n.getFormData=n.getFormData.bind(Object(q.a)(n)),n.submit=n.submit.bind(Object(q.a)(n)),n.handleApChange=n.handleApChange.bind(Object(q.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getFormData(this.props)}},{key:"getFormData",value:function(e){var t=e.globalData.dds_ap_country;if(t){var a={};t.forEach((function(e){a[e.ap]?a[e.ap].push(e.country):a[e.ap]=[e.country]})),this.setState({formData:a,ap:Object.keys(a)[0],country:a[Object.keys(a)[0]][0]})}}},{key:"componentWillReceiveProps",value:function(e){this.props.globalData!==e.globalData&&this.getFormData(e)}},{key:"submit",value:function(e){e.preventDefault(),console.log("SUBMIT",{ap:this.state.ap,country:this.state.country,file:this.state.file})}},{key:"handleApChange",value:function(e){-1===this.state.formData[e].indexOf(this.state.country)?this.setState({ap:e,country:this.state.formData[e][0]}):this.setState({ap:e})}},{key:"render",value:function(){var e=this,t=this.state.formData&&Object.keys(this.state.formData)||[],a=this.state.formData&&this.state.ap&&this.state.formData[this.state.ap]||[];return r.a.createElement("div",{className:"results"},r.a.createElement("div",{className:"pageTitle"},r.a.createElement("h1",null,"Results Submission")),this.state.formData?r.a.createElement("form",{className:"results",onSubmit:function(t){return e.submit(t)}},r.a.createElement(ve.a,{controlId:"accountingPeriod"},r.a.createElement(ie.a,{sm:6,componentClass:Fe.a.Label},"Accounting period"),r.a.createElement(ie.a,{sm:6},r.a.createElement(Te.a,{name:"ap",data:t,value:this.state.ap,onChange:function(t){return e.handleApChange(t)}}))),r.a.createElement(ve.a,{controlId:"memberState"},r.a.createElement(ie.a,{sm:4,componentClass:Fe.a.Label},"Member State"),r.a.createElement(ie.a,{sm:8},r.a.createElement(Te.a,{filter:!0,name:"country",data:a,value:this.state.country,onChange:function(t){return e.setState({country:t})}}))),r.a.createElement(ve.a,{validationState:this.state.file?null:"error"},r.a.createElement(ie.a,{sm:4},r.a.createElement(Fe.a.Label,null,"Upload File"),r.a.createElement(Fe.a,{id:"file",name:"file",type:"file",accept:".xml",onChange:function(t){t.preventDefault(),e.setState({file:t.target.files[0]})}}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!this.state.ap||!this.state.country||!this.state.file},"Submit")):r.a.createElement("div",{className:"spinner"},r.a.createElement("i",{className:"fa fa-atom fa-spin"})))}}]),a}(r.a.PureComponent));var Me=Object(p.b)((function(e){return{mainSpinner:e.header.mainSpinner,userData:e.home.userData,globalData:e.home.globalData}}),(function(e){return{managedRequest:function(t,a,n,r){return w.managedRequest(e,t,a,n,r)},setGlobalData:function(t){return z(e,t)}}}))(_e),Pe=(a(205),a(93)),Ue=(a(229),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={expandBoxOpen:!1},n.toggleExpandBox=n.toggleExpandBox.bind(Object(q.a)(n)),n}return Object(l.a)(a,[{key:"toggleExpandBox",value:function(){this.props.isOpen?this.setState({expandBoxOpen:!this.state.expandBoxOpen}):(this.setState({expandBoxOpen:!0}),this.props.sideBarOpen())}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpen,n=t.title,s=t.icon,o=t.expandable,i=t.content,l=a?"open":"closed",c=this.state.expandBoxOpen?"arrowDown":"";return r.a.createElement("div",{className:"menuContainer"},r.a.createElement("div",{className:"menuItem ".concat(this.props.active&&this.props.active===this.props.id?"active":""),onClick:function(){e.toggleExpandBox(),e.props.setActive&&e.props.setActive(e.props.id)}},r.a.createElement("div",{className:"menuItemTitle"},r.a.createElement("div",null,s),r.a.createElement("span",{className:l},n)),o&&r.a.createElement("div",{className:"expandBar"},r.a.createElement("i",{className:"toggleIcon fas fa-chevron-right ".concat(c)}))),this.state.expandBoxOpen&&r.a.createElement("div",{className:"expandBox ".concat(l)},i))}}]),a}(r.a.Component));Ue.defaultProps={expandable:!1};var Ge=Ue;function He(){var e=this;return r.a.createElement("div",{className:"pageTitle"},r.a.createElement("h1",null,"Direct Collection"),r.a.createElement("form",null,r.a.createElement(ve.a,{controlId:"accountingPeriod"},r.a.createElement(ie.a,{sm:6,componentClass:Fe.a.Label},"Farmer name"),r.a.createElement(ie.a,{sm:6},r.a.createElement(Fe.a,{type:"text",value:this.state.farmerName,placeholder:"Enter text",onChange:function(t){return e.setState({farmerName:t.target.value})}}))),r.a.createElement(ve.a,{controlId:"memberState"},r.a.createElement(ie.a,{sm:4,componentClass:Fe.a.Label},"Location code"),r.a.createElement(ie.a,{sm:8},r.a.createElement(Pe.DropdownList,{filter:!0,data:this.state.locationCodeArr,value:this.state.locationCode,onChange:function(t){return e.setState({locationCode:t})}}))),r.a.createElement(ve.a,{controlId:"accountingPeriod"},r.a.createElement(ie.a,{sm:6,componentClass:Fe.a.Label},"Farm ID"),r.a.createElement(ie.a,{sm:6},r.a.createElement(Fe.a,{type:"text",value:this.state.farmerId,placeholder:"Enter text",onChange:function(t){return e.setState({farmerId:t.target.value})}}))),r.a.createElement(ie.a,{sm:12},r.a.createElement(le.a,{className:"pull-left",bsStyle:"primary",onClick:this.submitInitialForm},"BEGIN"))))}var Je=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={initialFormSubmitted:!1,error:"",farmerName:"",locationCode:"",farmerId:"",locationCodeArr:null,activeForm:{group:{},category:{},table:{}},submitForm:{}},n.getCategories=n.getCategories.bind(Object(q.a)(n)),n.getGroups=n.getGroups.bind(Object(q.a)(n)),n.listTables=n.listTables.bind(Object(q.a)(n)),n.submitInitialForm=n.submitInitialForm.bind(Object(q.a)(n)),n.handleFormInput=n.handleFormInput.bind(Object(q.a)(n)),n.goToNextForm=n.goToNextForm.bind(Object(q.a)(n)),n.submitForm=n.submitForm.bind(Object(q.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getLocationCode(this.props),this.props.questionData&&this.props.questionData.navbar&&this.setInitialActiveForm(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.globalData!==e.globalData&&this.getLocationCode(e),this.props.questionData!==e.questionData&&e.questionData.navbar&&this.setInitialActiveForm(e)}},{key:"setInitialActiveForm",value:function(e){var t=e.questionData.navbar[0],a=e.questionData.collection[t.groups[0].id_group];this.setState({activeForm:{table:t,group:a}})}},{key:"getLocationCode",value:function(e){if(e.globalData.dd_locationCode){var t=e.globalData.dd_locationCode.map((function(e){return e.value}));this.setState({locationCodeArr:t})}}},{key:"setActiveForm",value:function(e){this.setState({activeForm:e})}},{key:"getCategories",value:function(e,t,a){var n=this,s=this.props.questionData.collection[e.id_group],o=Object.values(s.categories);return o.length>0?r.a.createElement("div",{className:"flex-column"},o.map((function(o,i){var l="categoryName ".concat(n.state.activeForm.category.id_category+n.state.activeForm.group.id_group===o.id_category+e.id_group&&"active");return r.a.createElement("div",{key:e.id_group+o.id_category+i,className:"category"},r.a.createElement("div",{className:l,onClick:function(){return n.setState({activeForm:{group:s,category:o,table:a}})}},o.name.lang[t]))}))):null}},{key:"getGroups",value:function(e,t){var a=this;return r.a.createElement("div",{className:"groups flex-column"},e.groups.map((function(n){var s=a.props.questionData.collection[n.id_group],o="groupName ".concat(a.state.activeForm.group.id_group===n.id_group&&"active");return r.a.createElement("div",{key:e.id_table+n.id_group,className:o,onClick:function(){return a.setState({activeForm:{group:s,table:e}})}},n.name.lang[t])})))}},{key:"handleFormInput",value:function(e){var t=e.target.value,a=e.target.name;this.setState({submitForm:Object.assign({},this.state.submitForm,Object(ge.a)({},a,t))})}},{key:"getCurrentForm",value:function(){var e=this,t=this.state.activeForm,a=t.group,n=Object.values(a.categories),s=[];return n.forEach((function(t){t.columns.forEach((function(a){var n=Object(d.a)(Object(d.a)({},a),{},{id_category:t.id_category,category_name:t.name.lang[e.props.lang]});s.push(n)}))})),r.a.createElement("div",{className:"selectedForm"},r.a.createElement("div",{className:"pageTitle"},r.a.createElement("h1",null,t.table.name.lang[this.props.lang])),r.a.createElement("div",{className:"tableHelp"},r.a.createElement("h2",null,t.table.help.lang[this.props.lang])),r.a.createElement("div",{className:"groupTitle"},r.a.createElement("h3",null,a.name.lang[this.props.lang])),r.a.createElement("div",{className:"form"},s.map((function(a){var n=t.table.id_table+"/"+t.group.id_group+"/"+a.id_category+"/"+a.id_column;return r.a.createElement(ve.a,{key:n,controlId:n},r.a.createElement(ie.a,{sm:6,componentClass:Fe.a.Label},a.category_name," ",a.name.lang[e.props.lang]," ",a.name.unit&&"(".concat(a.name.unit,")")),r.a.createElement(ie.a,{sm:6},r.a.createElement(Fe.a,{type:"text",name:n,value:e.state.submitForm[n]||"",onChange:e.handleFormInput})))}))),r.a.createElement("div",{className:"btn btn-primary pull-left next mb15",onClick:this.goToNextForm},"Next"),r.a.createElement("div",{className:"btn btn-primary pull-right next mb15",onClick:this.submitForm},"Submit"))}},{key:"listTables",value:function(e,t){var a=this;return r.a.createElement("div",{className:"questionContainer"},r.a.createElement("div",{className:"sidebar"},e&&r.a.createElement("div",{className:"qMenu"},e.map((function(e){return r.a.createElement("div",{key:e.id_table,title:e.help.lang[a.props.lang]},r.a.createElement(Ge,{expandable:!0,title:e.name.lang[t],id:e.id_table,isOpen:!0,sideBarOpen:function(){},setActive:function(){},active:a.state.activeForm.table.id_table,content:a.getGroups(e,t)}))})))),r.a.createElement("div",{className:"forms"},!this.state.initialFormSubmitted&&this.state.locationCodeArr&&He.call(this),this.state.initialFormSubmitted&&this.getCurrentForm()))}},{key:"goToNextForm",value:function(){for(var e=Object.assign({},this.state.activeForm),t=e.table,a=0,n=0;n<e.table.groups.length;n++)if(e.table.groups[n].id_group===e.group.id_group){a=n;break}var r=this.props.questionData.navbar,s=this.props.questionData.collection;if(a<e.table.groups.length-1){var o=a+1,i=s[t.groups[o].id_group];this.setState({activeForm:{table:t,group:i}})}else if(a===e.table.groups.length-1){for(var l=0,c=0;c<r.length;c++)if(r[c].id_table===t.id_table){l=c;break}if(l<r.length-1){t=this.props.questionData.navbar[l+1];var u=this.props.questionData.collection[t.groups[0].id_group];this.setState({activeForm:{table:t,group:u}})}else console.log("end of menu")}}},{key:"submitForm",value:function(){var e=[],t=this.state.submitForm;Object.keys(this.state.submitForm).forEach((function(a){var n=a.split("/");e.push({table:n[0],group:n[1],category:n[2],column:n[3],answer:t[a]})})),console.log("SUBMIT DATA",e)}},{key:"render",value:function(){var e=this.props.questionData&&this.props.questionData.navbar,t=this.props.lang;return r.a.createElement("div",{className:"interview"},e?this.listTables(e,t):r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:L.a,alt:"logo"})))}},{key:"submitInitialForm",value:function(){this.setState({initialFormSubmitted:!0})}}]),a}(r.a.PureComponent);var Qe=Object(p.b)((function(e){return{globalData:e.home.globalData,userData:e.home.userData,questionData:e.home.questionData,lang:e.home.language}}),(function(e){return{setGlobalData:function(t){return z(e,t)}}}))(Je),Ye=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={error:""},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){return r.a.createElement("div",null,"Figures page")}}]),a}(r.a.PureComponent);var We=Object(p.b)((function(e){return{userData:e.home.userData,globalData:e.home.globalData}}),(function(e){return{setGlobalData:function(t){return z(e,t)}}}))(Ye),Ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.update&&A.a.info("A new version of this app is avaliable, refresh the page to view the changes")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"mainContainer"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:S}),r.a.createElement(m.a,{exact:!0,path:"/results",component:Me}),r.a.createElement(m.a,{exact:!0,path:"/interview",component:Qe}),r.a.createElement(m.a,{exact:!0,path:"/figures",component:We}),r.a.createElement(m.a,{path:"/error",component:ce}),r.a.createElement(m.a,{exact:!0,path:"/applicationLogs",component:je}),r.a.createElement(m.a,{exact:!0,path:"/errorLogs",component:xe}),r.a.createElement(m.a,{exact:!0,path:"/failedRequests",component:Se}),r.a.createElement(m.a,{exact:!0,path:"/debugLogs",component:qe}),r.a.createElement(m.a,{component:me})))),r.a.createElement(I,null),r.a.createElement(de,null,r.a.createElement(ke,null)))}}]),a}(r.a.Component);var Ke=Object(p.b)((function(e){return{update:e.header.update}}))(Ve),ze="MAIN_SPINNER",Xe="UPDATE_AVAILABLE";function Ze(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),pt.dispatch({type:Xe,payload:!0}),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})},setInterval((function(){e.update().catch((function(e){console.log("Updating...")}))}),5e3)})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $e=a(94),et=a(44),tt=a(135),at=a(136),nt={test:!1,mainSpinner:!1,userData:null,globalData:{},questionData:null,language:"en"};var rt={shouldLogin:!1};var st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object.assign({},e,{shouldLogin:t.state});default:return e}},ot=a(36),it={requests:new Map,logs:ot.get.getAllLogs()};var lt={mainSpinner:!1,update:!1};var ct=[];ct.push(tt.a);ct.push(Object(at.createLogger)({collapsed:!0,predicate:function(e,t){return"UPDATE_BBOX"!==t.type}}));var ut=Object(et.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.TEST:return Object.assign({},e,{test:t.payload});case Q.SET_USER_DATA:return Object.assign({},e,{userData:t.payload});case Q.SET_GLOBAL_DATA:return Object.assign({},e,{globalData:t.payload});case Q.SET_QUESTION_DATA:return Object.assign({},e,{questionData:t.payload});case Q.SET_LANGUAGE:return Object.assign({},e,{language:t.payload});default:return e}},login:st,adapter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var a=new Map(e.requests.entries()),n=ot.get.getAllLogs(),r=Object.assign({},a.get(t.payload.promise),t.payload.params);return a.set(t.payload.promise,r),Object.assign({},e,{requests:a,logs:n});case k:var s=new Map(e.requests.entries());return s.delete(t.payload),Object.assign({},e,{requests:s});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object.assign({},e,{mainSpinner:t.payload});case Xe:return Object.assign({},e,{update:t.payload});default:return e}}});a.d(t,"store",(function(){return pt}));var mt,pt=Object(et.d)(ut,mt,et.a.apply(void 0,ct));o.a.render(r.a.createElement(p.a,{store:pt},r.a.createElement($e.a,null,r.a.createElement(Ke,null))),document.getElementById("root"));var dt=function(e){pt.dispatch({type:Q.SET_OFFLINE,state:e})};window.addEventListener("load",(function(){window.addEventListener("offline",void(navigator.onLine||dt(!0)))})),window.addEventListener("offline",(function(){dt(!0)})),window.addEventListener("online",(function(){dt(!1)})),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/custom-sw.js");Ze(t,e)}))}}()},70:function(e,t,a){e.exports=a.p+"static/media/eu-transparent.e6834d28.png"}},[[139,1,2]]]);
//# sourceMappingURL=main.1c83c80e.chunk.js.map