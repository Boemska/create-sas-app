{"version":3,"sources":["assets/images/unknownPerson.png","adapterService/config.js","components/loginModal/ActionTypes.js","components/loginModal/loginModalActions.js","adapterService/ActionTypes.js","adapterService/adapterActions.js","adapterService/adapterService.js","pages/home/home.js","components/footer/footer.js","components/loading-indicator/loading-indicator.js","components/badge/badge.js","pages/home/ActionTypes.js","services/constants.js","pages/home/homeActions.js","components/userInfoDropDown/userInfoDropDown.js","components/header/header.js","utils/utils.js","pages/Page500/Page500.js","pages/Page404/Page404.js","components/portal/portal.js","pages/Login/Login.js","components/loginModal/loginModal.js","components/goBack/goBack.js","components/logHeader/logHeader.js","pages/applicationLogs/applicationLogs.js","pages/failedRequests/failedRequests.js","pages/errorLogs/errorLogs.js","components/colapsable/boCollapsible.js","pages/debugLogs/debugLogs.js","pages/results/results.js","components/menuItem/menuItem.js","pages/interview/initialForm.js","pages/interview/interview.js","pages/figures/figures.js","App.js","components/header/ActionTypes.js","serviceWorker.js","pages/home/homeReducer.js","components/loginModal/loginReducer.js","adapterService/adapterReducer.js","components/header/headerReducer.js","store.js","index.js","assets/images/eu-transparent.png"],"names":["module","exports","metadataRoot","hostUrl","ajaxTimeout","sasVersion","setShouldLogin","dispatch","state","type","ActionTypes","setRequest","promise","params","payload","toastr","options","progressBar","this","requests","Map","shouldLogin","_adapter","H54s","ADAPTER_SETTINGS","debugMode","localStorage","getItem","JSON","parse","setDebugMode","err","res","resolve","reject","handleUserMessage","program","running","successful","undefined","then","timestamp","Date","catch","user","pass","Promise","login","status","errorMessage","promiseLogin","e","console","log","method","url","_options","useMultipartFormData","managedRequest","callback","_callback","_handleRequest","tables","call","logout","errStatus","Error","rows","name","SasData","_debugMode","setItem","debug","table","key","value","Utils","getObjOfTable","usermessage","info","folderName","getFolderDetails","fileUri","getFileDetails","getFileContent","getFolderContents","parentUri","createNewFolder","fleName","fileBlob","createNewFile","itemUri","deleteItem","lastModified","updateFile","dgButtons","results","title","content","button","interview","figures","Home","props","error","fields","globalData","role_permissions","forEach","p","role","parseInt","permitted","Object","keys","map","i","className","history","push","React","Component","withRouter","connect","store","mainSpinner","header","userData","home","Footer","LoadingIndicator","loading","callsListToogle","toogleDropDown","bind","getRequestsList","nextProps","Array","from","values","reverse","setState","onClick","length","style","position","request","index","adapter","Badge","background","width","height","color","backgroundColor","TEST","MAIN_SPINNER","SET_USER_DATA","SET_GLOBAL_DATA","SET_QUESTION_DATA","SET_LANGUAGE","adapterConsts","a","userDataApi","constants","adapterService","body","userAvatar","setUserData","setGlobalData","data","UserInfoDropDown","statusBarShow","handleSwitchChange","statusBar","getUserData","show","username","userDetails","USERNAME","avatar","AVATAR_URI","tabIndex","src","unknownPerson","alt","transitionName","transitionEnterTimeout","transitionLeaveTimeout","id","checked","onChange","logs","applicationLogs","failedRequests","debugData","sasErrors","PureComponent","Header","requestsWatcher","requestsWatcherInterval","setInterval","param","get","moment","diff","removeRequest","np","sasProgram","dataObj","qnr_locations","file","questionData","xml","qnr_data","groups","group","categories","category","columns","column","navbar","nav_element","split","subelement","collection_of_schemas","nav","g","thisGroupId","newGroup","categoryName","newCategory","columnName","id_category","collection","getFormJson","setQuestionData","message","lang","settings","s","property","setLanguage","clearInterval","LogoImg","Page500","Card","Row","Col","md","Button","Page404","portalRoot","document","getElementById","Portal","el","createElement","appendChild","removeChild","children","ReactDOM","createPortal","Login","password","validateEmail","validatePassword","onInputChange","validated","target","Form","noValidate","FormGroup","InputGroup","Prepend","Control","placeholder","required","bsstyle","disabled","u","LoginModal","Modal","bssize","dialogClassName","Body","GoBack","goBack","LogHeader","time","format","ApplicationLogs","FailedRequests","ErrorLogs","BoCollapsible","collapsed","open","collapse","DebugLogs","dangerouslySetInnerHTML","__html","debugHtml","Results","formData","ap","country","getFormData","submit","handleApChange","dds_ap_country","item","preventDefault","indexOf","countries","onSubmit","controlId","sm","componentClass","FormControl","Label","filter","validationState","accept","files","MenuItem","expandBoxOpen","toggleExpandBox","isOpen","sideBarOpen","icon","expandable","openClass","arrowDown","active","setActive","defaultProps","initialForm","farmerName","locationCodeArr","locationCode","farmerId","bsStyle","submitInitialForm","Interview","initialFormSubmitted","activeForm","submitForm","getCategories","getGroups","listTables","handleFormInput","goToNextForm","getLocationCode","setInitialActiveForm","id_group","dd_locationCode","extendedGroup","c","classString","id_table","assign","cat","col","newCol","category_name","help","id_column","unit","getCurrentForm","activeTable","actualGroupIndex","nextIndex","nextGroup","activeTableIndex","firstGroup","submitData","ids","answer","language","Figures","App","update","exact","path","component","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","HeaderActionTypes","onUpdate","onSuccess","initalState","test","loginReducer","action","initialState","adapterLogs","getAllLogs","middlewares","thunk","createLogger","predicate","getState","reducer","combineReducers","entries","newLogs","newParams","set","requestsToRemove","delete","preloadedState","createStore","applyMiddleware","render","setOffline","SET_OFFLINE","window","addEventListener","onLine","URL","process","location","href","origin"],"mappings":"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","file":"static/js/main.1c83c80e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export default {\n            metadataRoot: \"/Public/Agri App/\",\n            hostUrl: \"\",\n            ajaxTimeout: 600000,\n            sasVersion: \"viya\"\n        }\n        ","export default {\n\tSET_SHOULD_LOGIN: 'SET_SHOULD_LOGIN'\n}\n","import ActionTypes from './ActionTypes'\n\nexport function setShouldLogin(dispatch, state) {\n\tdispatch({\n\t\ttype: ActionTypes.SET_SHOULD_LOGIN,\n\t\tstate\n\t})\n}\n","export default {\n\tSET_REQUEST: 'SET_REQUEST',\n\tREMOVE_REQUEST: 'REMOVE_REQUEST'\n}\n","import ActionTypes from './ActionTypes'\n\nexport function setRequest(dispatch, promise, params) {\n\tdispatch({\n\t\ttype: ActionTypes.SET_REQUEST,\n\t\tpayload: {promise, params}\n\t})\n}\n\nexport function removeRequest(dispatch, promise) {\n\tdispatch({\n\t\ttype: ActionTypes.REMOVE_REQUEST,\n\t\tpayload: promise\n\t})\n}\n","// import H54s from '../h54s/src/h54s'\nimport H54s from 'h54s'\nimport Utils from 'h54s/src/methods/utils'\nimport ADAPTER_SETTINGS from './config'\nimport {setShouldLogin} from '../components/loginModal/loginModalActions'\nimport {setRequest} from './adapterActions'\nimport toastr from 'toastr'\n\ntoastr.options.progressBar = true;\n\nclass adapterService {\n\tconstructor() {\n\t\tthis.requests = new Map();\n\t\tthis.shouldLogin = true;\n\t\tthis._adapter = new H54s(ADAPTER_SETTINGS);\n\n\t\t// Set debug mode\n\t\tlet debugMode = localStorage.getItem('debugMode')\n\t\tif (debugMode) {\n\t\t\tdebugMode = JSON.parse(debugMode)\n\t\t}\n    this.setDebugMode(debugMode || false)\n\t}\n\n\t_callback(err, res, resolve, reject, dispatch) {\n\t\tif (err) {\n\t\t\tif (err.type === 'notLoggedinError') {\n\t\t\t\tsetShouldLogin(dispatch, true)\n\t\t\t} else if (!!err) {\n\t\t\t\treturn reject(err);\n\t\t\t}\n\t\t} else if (!err && res) {\n\t\t\tthis.handleUserMessage(res)\n\t\t\treturn resolve(res)\n\t\t}\n\t}\n\n\t_handleRequest(dispatch, promise, program) {\n\t\tsetRequest(dispatch, promise, {\n\t\t\tprogram,\n\t\t\trunning: true,\n\t\t\tsuccessful: undefined\n\t\t})\n\n\t\tpromise.then(() => {\n\t\t\tsetRequest(dispatch, promise, {\n\t\t\t\trunning: false,\n\t\t\t\tsuccessful: true,\n\t\t\t\ttimestamp: new Date()\n\n\t\t\t})\n\t\t}).catch(() => {\n\t\t\tsetRequest(dispatch, promise, {\n\t\t\t\trunning: false,\n\t\t\t\tsuccessful: false,\n\t\t\t\ttimestamp: new Date()\n\t\t\t})\n\t\t});\n\t}\n\n\tlogin(dispatch, user, pass) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// Handle login on different versions of SAS\n\t\t\tif (ADAPTER_SETTINGS.sasVersion === 'v9') {\n\t\t\t\tthis._adapter.login(user, pass, (status) => {\n\t\t\t\t\tif (status === 200 || status === 449) {\n\t\t\t\t\t\t// this.shouldLogin.next(false);\n\t\t\t\t\t\tsetShouldLogin(dispatch, false)\n\t\t\t\t\t\tresolve(status);\n\t\t\t\t\t}\n\t\t\t\t\tlet errorMessage = 'There was a problem.'\n\t\t\t\t\tif (status === -1) {\n\t\t\t\t\t\terrorMessage = 'Username or password invalid'\n\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t} else if (status === -2) {\n\t\t\t\t\t\terrorMessage = 'Problem communicating with server'\n\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis._adapter.promiseLogin(user, pass)\n\t\t\t\t\t.then(status => {\n\t\t\t\t\t\tif (status === 200 || status === 449) {\n\t\t\t\t\t\t\t// this.shouldLogin.next(false);\n\t\t\t\t\t\t\tsetShouldLogin(dispatch, false)\n\t\t\t\t\t\t\tresolve(status);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet errorMessage = 'There was a problem.'\n\t\t\t\t\t\tif (status === -1) {\n\t\t\t\t\t\t\terrorMessage = 'Username or password invalid'\n\t\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t\t} else if (status === -2) {\n\t\t\t\t\t\t\terrorMessage = 'Problem communicating with server'\n\t\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tlet errorMessage = 'There was a problem.'\n\t\t\t\t\t\tif (e === 401) {\n\t\t\t\t\t\t\terrorMessage = 'Username or password invalid'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(errorMessage)\n\t\t\t\t\t\treject(errorMessage)\n\t\t\t\t\t})\n\t\t\t}\n\t\t});\n\t}\n\n\n\t/*\n\t@dispatch - redux store management part\n\t@method - can be get, post and put\n\t@url - viya API endpoint\n\t@options - {useMultipartFormData, sasProgram, dataObj, params, callback, headers}\n\t */\n\tmanagedRequest(dispatch, method, url, options) {\n\t\t// Set useMultipartFormData to true if not provided\n\t\tconst _options = {\n\t\t\tuseMultipartFormData: true,\n\t\t\t...options // spraed passed options\n\t\t}\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.managedRequest(method, url, {\n\t\t\t\t// default callback if there is no provided one as a parameter\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t})\n\t\t})\n\n\t\t// In header is tracker of requests, this is where it is handled\n\t\tthis._handleRequest(dispatch, promise, url)\n\n\t\treturn promise\n\t}\n\n\n\t// Function that directly invoke SAS program call\n\tcall(dispatch, program, tables) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.call(program, tables, (err, res) => this._callback(err, res, resolve, reject, dispatch));\n\t\t});\n\n\t\tthis._handleRequest(dispatch, promise, program)\n\n\t\treturn promise\n\t}\n\n\tlogout() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis._adapter.logout((errStatus) => {\n\t\t\t\tif (errStatus !== undefined) {\n\t\t\t\t\treject(new Error(`Logout failed with status code ${errStatus}`));\n\t\t\t\t} else {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tcreateTable(rows, name) {\n\t\treturn new H54s.SasData(rows, name);\n\t}\n\n\tgetDebugMode() {\n\t\treturn this._debugMode;\n\t}\n\n\tsetDebugMode(debugMode) {\n\t\tlocalStorage.setItem(\"debugMode\", debugMode);\n\t\tthis._debugMode = this._adapter.debug = debugMode;\n\t}\n\n\tgetObjOfTable(table, key, value) {\n\t\treturn Utils.getObjOfTable(table, key, value)\n\t}\n\n\thandleUserMessage(res) {\n\t\tif (res.usermessage && res.usermessage !== 'blank') {\n\t\t\ttoastr.info(res.usermessage)\n\t\t}\n\t}\n\n\n\n\tgetFolderDetails(dispatch, folderName, _options = {}) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.getFolderDetails(folderName, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Get details for '+folderName)\n\t\treturn promise\n\t}\n\n\tgetFileDetails(dispatch, fileUri, _options = {}) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.getFileDetails(fileUri, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Get '+fileUri)\n\t\treturn promise\n\t}\n\n\tgetFileContent(dispatch, fileUri, _options = {}) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.getFileContent(fileUri, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Get conten for '+fileUri)\n\t\treturn promise\n\t}\n\n\tgetFolderContents(dispatch, folderName, _options = {}) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.getFolderContents(folderName, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Get folder content '+folderName)\n\t\treturn promise\n\t}\n\tcreateNewFolder(dispatch, parentUri, folderName, _options = {}) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.createNewFolder(parentUri, folderName, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Create '+folderName)\n\t\treturn promise\n\t}\n\n\tcreateNewFile(dispatch, fleName, fileBlob, parentUri, _options = {}) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.createNewFile(fleName, fileBlob, parentUri, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch),\n\t\t\t\t..._options\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Create ' + fleName)\n\t\treturn promise\n\t}\n\n\tdeleteItem(dispatch, itemUri) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.deleteItem(itemUri, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch)\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Delete ' + itemUri)\n\t\treturn promise\n\t}\n\n\tupdateFile(dispatch, itemUri, fileBlob, lastModified) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis._adapter.updateFile(itemUri, fileBlob, lastModified, {\n\t\t\t\tcallback: (err, res) => this._callback(err, res, resolve, reject, dispatch)\n\t\t\t});\n\t\t});\n\t\tthis._handleRequest(dispatch, promise, 'Update ' + itemUri)\n\t\treturn promise\n\t}\n}\n\nexport default new adapterService()\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router'\n// import adapterService from '../../adapterService/adapterService'\nimport './home.scss'\nimport adapterService from '../../adapterService/adapterService'\nimport {getFormJson} from '../../utils/utils'\n\nconst dgButtons = {\n\tresults: {\n\t\ttitle: 'Results Submission',\n\t\tcontent: 'If you have already collected an aggregated results dataset and are looking to submit it, you may do so'+\n\t\t\t' through this part of the application. Datasets must be in XML format, and cleaned, and maybe some other stuff.',\n\t\tbutton: 'Submit'\n\t},\n\tinterview: {\n\t\ttitle: 'Interview Mode',\n\t\tcontent: 'If you are an agent collecting data by directly interviewing farmers, then this is the button to click.\\n' +\n\t\t\t'\\n' +\n\t\t\t'There may be some other guidance data that we put here, but for now here is some more placeholder text.',\n\t\tbutton: 'Interview'\n\t},\n\tfigures: {\n\t\ttitle: 'Submit my figures',\n\t\tcontent: 'If you are a farmer and youre here to directly complete the questionnaire for your farm, then this is definitely the box you will be most interested in. This is the one. Dont look at any others.\\n' +\n\t\t\t'\\n' +\n\t\t\t'Good luck.',\n\t\tbutton: 'Complete'\n\t}\n}\n\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: ''\n\t\t}\n\t}\n\n\trender() {\n\t\tconst fields = {}\n\t\tthis.props.globalData.role_permissions && this.props.globalData.role_permissions.forEach(p => fields[p.role] = !!parseInt(p.permitted))\n\t\tconsole.log('FIELDS', fields)\n\t\treturn <div className={'home'}>\n\t\t\t{Object.keys(fields).map((key,i) => {\n\t\t\t\tif (fields[key]) {\n\t\t\t\t\treturn <div key={key+i} className={'dgButton'}>\n\t\t\t\t\t\t<div className={'header'}>{dgButtons[key].title}</div>\n\t\t\t\t\t\t<div className={'content'}>{dgButtons[key].content}</div>\n\t\t\t\t\t\t<div className={'footer'}><button className={'pull-right'} onClick={() => this.props.history.push(`/${key}`)}>{dgButtons[key].button}</button></div>\n\t\t\t\t\t\t{this.state.error && <div className={'text-red'}>{this.state.error}</div>}\n\t\t\t\t\t</div>\n\t\t\t\t} else {\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})}\n\t\t</div>\n\t}\n}\n\nfunction mapStateToProps(store) {\n\treturn {\n\t\tmainSpinner: store.header.mainSpinner,\n\t\tuserData: store.home.userData,\n\t\tglobalData: store.home.globalData\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t}\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home))\n","import React from 'react'\nimport './footer.scss'\n\nconst Footer = () => {\n\treturn <footer className={'bfooter'}>Boemska Technology Solutions Limited</footer>\n}\n\nexport default Footer\n","import React from 'react'\nimport {connect} from \"react-redux\";\nimport './loading-indicator.scss'\n\nclass LoadingIndicator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requests: [],\n      loading: false,\n      callsListToogle: false\n    }\n    this.toogleDropDown = this.toogleDropDown.bind(this)\n  }\n\n  componentDidMount() {\n    this.getRequestsList(this.props)\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n   if (this.props.requests !== nextProps.requests) {\n    this.getRequestsList(nextProps)\n   }\n  }\n\n  getRequestsList (props) {\n    const requests = Array.from(props.requests.values()).reverse()\n\n    let loading = false;\n    for (let file of requests) {\n      if (file.running) {\n        loading = true;\n        break;\n      }\n    }\n\n    this.loading = loading;\n    this.setState({\n      loading,\n      requests\n    })\n  }\n\n  toogleDropDown() {\n    this.setState({\n      callsListToogle: !this.state.callsListToogle\n    })\n  }\n\n\n  render() {\n    return (\n      <div className={'loadingIndicator'}>\n        <div className={'pulseLoader'} onClick={this.toogleDropDown} title={'Toggle notification bar'}>\n          { this.state.loading  && <div className={'mainSpinner'}>\n\t\t\t\t\t\t<i className={'fas fa-circle-notch fa-spin'} />\n\t\t\t\t\t</div>}\n\n          { !this.state.loading && this.state.requests.length > 0 && !this.state.requests[0].successful && <div className={'status fail'}>\n            <i className=\"fas fa-2x fa-exclamation-triangle\" />\n          </div> }\n\n          { !this.state.loading && this.state.requests.length > 0 && this.state.requests[0].successful && <div className={'status success'}>\n            <i className={'far fa-check-circle fa-2x'}/>\n          </div>}\n\n        </div>\n        { this.state.callsListToogle &&\n         this.state.requests.length > 0 && <div className={'dropDownList'}>\n          <div style={{position: 'relative'}}>\n            <div className={'arrowUp'}></div>\n          </div>\n\n          { this.state.requests.map((request, index) =>\n            <div className={'item'} key={index}>{request.program}\n              {!request.running && request.successful && <i className={'far fa-check-circle text-success align-self-center'}/>}\n              {!request.running && !request.successful && <i className={'fas fa-times-circle text-danger align-self-center'}/>}\n              {request.running && <div><i className={'fas fa-spinner fa-spin fa-fw text-primary'}/></div>}\n            </div>)\n          }\n        </div>\n        }\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(store) {\n  return {\n    requests: store.adapter.requests\n  }\n}\n\nexport default (connect(mapStateToProps)(LoadingIndicator))\n\n","import React from 'react'\nimport './badge.scss'\n\nconst Badge = (props) => {\n  const {value, background, width, height, color} = props;\n  return(\n  <div className={'badge'} style={{\n    backgroundColor: background,\n    width: width,\n    height: height,\n    color: color\n  }}>\n    <span>{value}</span>\n  </div>\n  )\n}\n\n\nexport default Badge;\n","export default {\n\tTEST: 'TEST',\n\tMAIN_SPINNER: 'MAIN_SPINNER',\n\tSET_USER_DATA: 'SET_USER_DATA',\n\tSET_GLOBAL_DATA: 'SET_GLOBAL_DATA',\n\tSET_QUESTION_DATA: 'SET_QUESTION_DATA',\n\tSET_LANGUAGE: 'SET_LANGUAGE'\n}\n","export const adapterConsts = {\n\t'USER_INDENTITIES': '/identities/users/@currentUser',\n\t'USER_AVATAR': '/identities/users/@currentUser/avatar/content',\n\t'STARTUP_SERVICE': 'common/startupService'\n\t// 'USER_INDENTITIES': '/SASJobExecution/'\n}\n","import ActionTypes from './ActionTypes'\nimport {adapterConsts as constants} from '../../services/constants'\nimport adapterService from '../../adapterService/adapterService'\n\nexport function setTestState(dispatch, payload) {\n\tdispatch({\n\t\ttype: ActionTypes.TEST,\n\t\tpayload\n\t})\n}\n\nexport function setMainSpinner(dispatch, payload) {\n\tdispatch({\n\t\ttype: ActionTypes.MAIN_SPINNER,\n\t\tpayload\n\t})\n}\n\nexport async function getUserData(dispatch) {\n\tconst userDataApi = constants.USER_INDENTITIES\n\n\t// *** Using Promise ***\n\t// adapterService.managedRequest(dispatch, 'get', userDataApi, {})\n\t// \t.then(res => {\n\t// \t\tdebugger\n\t// \t\tconsole.log('getUserData-then', res)\n\t// \t\t//TODO Dispatch data\n\t// \t})\n\t// \t.catch(e => {\n\t// \t\tconsole.log('getUserData-catch', e)\n\t// \t\t//TODO return error\n\t// \t})\n\n\t// *** Using async await ***\n\ttry {\n\t\tconst userData = await adapterService.managedRequest(dispatch, 'get', userDataApi, {})\n\t\tlet payload = userData.body\n\t\tconst userAvatar = adapterService._adapter.hostUrl + constants.USER_AVATAR;\n\t\tpayload.userAvatar = userAvatar;\n\t\tsetUserData(dispatch, payload)\n\t} catch (e) {\n\t\tconsole.log('error', e)\n\t}\n}\n\nexport function setUserData(dispatch, payload) {\n\tdispatch({\n\t\ttype: ActionTypes.SET_USER_DATA,\n\t\tpayload\n\t})\n}\n\nexport async function dummyCall(dispatch, options) {\n\ttry {\n\t\tlet callData = await adapterService.managedRequest(dispatch, 'post', '/SASJobExecution/', null, options)\n\t\tif (typeof callData === 'string') {\n\t\t\tcallData = callData.body;\n\t\t}\n\t\tconsole.log('dummycall-then', callData)\n\t} catch (e) {\n\t\tconsole.log('dummycall-catch', e)\n\t}\n}\n\nexport function setGlobalData(dispatch, data) {\n\tdispatch({\n\t\ttype: ActionTypes.SET_GLOBAL_DATA,\n\t\tpayload: data\n\t})\n}\n\nexport function setQuestionData(dispatch, data) {\n\tdispatch({\n\t\ttype: ActionTypes.SET_QUESTION_DATA,\n\t\tpayload: data\n\t})\n}\nexport function setLanguage(dispatch, data) {\n\tdispatch({\n\t\ttype: ActionTypes.SET_LANGUAGE,\n\t\tpayload: data\n\t})\n}\n\n\n","import React from 'react';\nimport './userInfoDropDown.scss'\nimport unknownPerson from '../../assets/images/unknownPerson.png'\nimport adapterService from \"../../adapterService/adapterService\";\nimport {connect} from 'react-redux'\nimport Toggle from 'react-toggle'\nimport {withRouter} from 'react-router'\nimport Badge from \"../badge/badge\";\nimport toastr from 'toastr'\nimport {getUserData, setUserData} from '../../pages/home/homeActions'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'; // ES6\n\n\nexport class UserInfoDropDown extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.statusBarShow = this.statusBarShow.bind(this);\n\t\tthis.logout = this.logout.bind(this);\n\t\tthis.handleSwitchChange = this.handleSwitchChange.bind(this);\n\t\tthis.state = {\n\t\t\tstatusBar: false,\n\t\t\tdebugMode: false\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getUserData()\n\n\t\tlet debugMode = localStorage.getItem('debugMode');\n\t\tif (debugMode) {\n\t\t\tdebugMode = JSON.parse(debugMode)\n\t\t} else {\n\t\t\tdebugMode = false\n\t\t}\n\n\t\tthis.setState({debugMode}, () => {\n\t\t\tadapterService.setDebugMode(this.state.debugMode)\n\t\t})\n\t}\n\n\tlogout() {\n\t\tadapterService.logout()\n\t\t\t.then(() => {\n\t\t\t\t// This will trigger getting user's data and\n\t\t\t\t// creating of fresh csrf token for login form\n\t\t\t\t// which will pop up automatically\n\t\t\t\tthis.props.setUserData(null)\n\t\t\t\tthis.props.getUserData()\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\ttoastr.error('Something went wrong!')\n\t\t\t})\n\t}\n\n\tstatusBarShow(show) {\n\t\tthis.setState({\n\t\t\tstatusBar: show\n\t\t})\n\t}\n\n\thandleSwitchChange() {\n\t\tthis.setState({\n\t\t\tdebugMode: !this.state.debugMode\n\t\t}, () => {\n\t\t\tadapterService.setDebugMode(this.state.debugMode)\n\t\t})\n\t}\n\n\trender() {\n\t\tconst username = this.props.userData && (this.props.userData.name || (this.props.userData.userDetails && this.props.userData.userDetails[0].USERNAME))\n\t\tconst avatar = this.props.userData && (this.props.userData.userAvatar || (this.props.userData.userDetails && this.props.userData.userDetails[0].AVATAR_URI))\n\n\t\treturn (\n\t\t\t<div tabIndex='0' className={'info-bar-drop'}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'info-header'}\n\t\t\t\t\tonClick={() => this.setState({statusBar: !this.state.statusBar})}\n\t\t\t\t\t// onMouseEnter={() => this.statusBarShow(true)}\n\t\t\t\t\t// onMouseLeave={() => this.statusBarShow(false)}\n\t\t\t\t>\n\t\t\t\t\t<img src={this.props.userData ? avatar : unknownPerson} alt=\"avatar\"/>\n\t\t\t\t\t{this.props.userData ? <span className={'title'}>{username}</span> :\n\t\t\t\t\t\t<span className={'title'}>Not logged in</span>\n\t\t\t\t\t}\n\t\t\t\t\t<i className={`fas fa-caret-left fa-1x ${this.state.statusBar ? 'arrowDown' : ''}`}/>\n\t\t\t\t</div>\n\t\t\t\t<ReactCSSTransitionGroup\n\t\t\t\t\ttransitionName=\"notifications\"\n\t\t\t\t\ttransitionEnterTimeout={0}\n\t\t\t\t\ttransitionLeaveTimeout={0}>\n\t\t\t\t\t{this.state.statusBar &&\n\t\t\t\t\t<div className={'status-drop-down'}>\n\t\t\t\t\t\t<div className={'toggleItem'} onClick={this.handleSwitchChange}>\n\t\t\t\t\t\t\t<div className={'toggle'}>Debug Mode\n\t\t\t\t\t\t\t\t<Toggle\n\t\t\t\t\t\t\t\t\tid='cheese-status'\n\t\t\t\t\t\t\t\t\tchecked={this.state.debugMode}\n\t\t\t\t\t\t\t\t\tonChange={this.handleSwitchChange}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'item'} onClick={() => {\n\t\t\t\t\t\t\tthis.props.history.push('/applicationLogs')\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span>Application Logs</span>\n\t\t\t\t\t\t\t<Badge background={'#737373'}\n\t\t\t\t\t\t\t\t\t\t value={this.props.logs && this.props.logs.applicationLogs.length > 0 ? this.props.logs.applicationLogs.length : 0}\n\t\t\t\t\t\t\t\t\t\t color={'#ffffff'}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!this.state.debugMode &&\n\t\t\t\t\t\t<\n\t\t\t\t\t\t\tdiv className={'item'} onClick={() => {\n\t\t\t\t\t\t\tthis.props.history.push('/failedRequests')\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span>Failed Requests</span>\n\t\t\t\t\t\t\t<Badge background={'#e12200'}\n\t\t\t\t\t\t\t\t\t\t value={this.props.logs && this.props.logs.failedRequests.length > 0 ? this.props.logs.failedRequests.length : 0}\n\t\t\t\t\t\t\t\t\t\t color={'#ffffff'}/>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t{this.state.debugMode &&\n\t\t\t\t\t\t<\n\t\t\t\t\t\t\tdiv className={'item'} onClick={() => {\n\t\t\t\t\t\t\tthis.props.history.push('/debugLogs')\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span>Debug Logs</span>\n\t\t\t\t\t\t\t<Badge background={'#0079b8'}\n\t\t\t\t\t\t\t\t\t\t value={this.props.logs && this.props.logs.debugData.length > 0 ? this.props.logs.debugData.length : 0}\n\t\t\t\t\t\t\t\t\t\t color={'#ffffff'}/>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t<div className={'item'} onClick={() => {\n\t\t\t\t\t\t\tthis.props.history.push('/errorLogs')\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span>Errors</span>\n\t\t\t\t\t\t\t<Badge background={'#fdcf08'}\n\t\t\t\t\t\t\t\t\t\t value={this.props.logs && this.props.logs.sasErrors.length > 0 ? this.props.logs.sasErrors.length : 0}\n\t\t\t\t\t\t\t\t\t\t color={'#000000'}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'divider'}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'item logout'} onClick={this.logout}>\n\t\t\t\t\t\t\t<span>Log Out</span>\n\t\t\t\t\t\t\t<i className={'fas fa-sign-out-alt fa-1x'}></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>}\n\t\t\t\t</ReactCSSTransitionGroup>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuserData: state.home.userData,\n\t\tlogs: state.adapter.logs\n\t}\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetUserData: () => getUserData(dispatch),\n\t\tsetUserData: data => setUserData(dispatch, data)\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UserInfoDropDown))\n\n","import React from 'react'\n// import LogoImg from '../../assets/images/saslogo.svg'\nimport LogoImg from '../../assets/images/eu-transparent.png'\nimport './header.scss'\nimport LoadingIndicator from '../loading-indicator/loading-indicator'\nimport UserInfoDropDown from '../userInfoDropDown/userInfoDropDown'\nimport {withRouter} from 'react-router'\nimport {connect} from 'react-redux'\nimport {removeRequest} from '../../adapterService/adapterActions'\nimport moment from 'moment'\nimport '@mdi/font/scss/materialdesignicons.scss'\nimport adapterService from '../../adapterService/adapterService'\nimport {setGlobalData, setLanguage, setQuestionData} from '../../pages/home/homeActions'\nimport {getFormJson} from '../../utils/utils'\n\n\nclass Header extends React.PureComponent {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.requestsWatcherInterval = null\n\t\tthis.state = {\n\t\t\terror: ''\n\t\t}\n\t}\n\n\trequestsWatcher = () => {\n\t\tthis.requestsWatcherInterval = setInterval(() => {\n\t\t\tArray.from(this.props.requests.keys()).forEach(key => {\n\t\t\t\tlet param = this.props.requests.get(key)\n\t\t\t\tlet timeDiff = moment().diff(moment(param.timestamp), 'seconds')\n\t\t\t\tif (timeDiff > 360) {\n\t\t\t\t\tthis.props.removeRequest(key)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.requestsWatcher();\n\t}\n\n\tcomponentWillReceiveProps(np) {\n\t\tif (this.props.userData !== np.userData && np.userData && np.userData.id) {\n\t\t\tthis.setState({error: ''})\n\t\t\tthis.props.managedRequest(null, null, {\n\t\t\t\tsasProgram: 'General/startupService',\n\t\t\t\tdataObj: null\n\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.props.setGlobalData(res)\n\t\t\t\t\treturn res.qnr_locations && res.qnr_locations[0] && res.qnr_locations[0].file\n\t\t\t\t})\n\t\t\t\t.then(file => {\n\t\t\t\t\tif (file) {\n\t\t\t\t\t\tthis.props.managedRequest('get', file + '/content', {})\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\tconst questionData = getFormJson(res.body)\n\t\t\t\t\t\t\t\tthis.props.setQuestionData(questionData)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tthis.setState({error: e.message})\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t})\n\t\t}\n\t\tif (this.props.globalData !== np.globalData) {\n\t\t\tlet lang = 'en'\n\t\t\tconst settings = np.globalData.settings\n\t\t\tif (settings) {\n\t\t\t\tfor (let s; s = 0; s < settings.length, s++) {\n\t\t\t\t\tif (settings[s].property === 'language') {\n\t\t\t\t\t\tlang = settings[s].value\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.props.setLanguage(lang)\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.requestsWatcherInterval);\n\t}\n\n\trender() {\n\t\treturn (<header>\n\t\t\t<div className={'logoContainer'}>\n\t\t\t\t<img src={LogoImg} alt={'logo'} onClick={() => {\n\t\t\t\t\tthis.props.history.push('/')\n\t\t\t\t}}/>\n\t\t\t\t<div className={'appName'}><span className={'big'}>FADN</span><span className={'small'}>Farm Accountancy Data Network</span>\n\t\t\t\t</div>\n\t\t\t\t{this.state.error && <span className={'text-danger'}>{this.state.error}</span>}\n\n\t\t\t</div>\n\n\t\t\t<div className={'info-block'}>\n\t\t\t\t<LoadingIndicator/>\n\t\t\t\t{/* eslint-disable-next-line react/jsx-no-undef */}\n\t\t\t\t<UserInfoDropDown/>\n\t\t\t</div>\n\t\t</header>)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\trequests: state.adapter.requests,\n\t\tuserData: state.home.userData,\n\t\tglobalData: state.home.globalData,\n\t\tquestionData: state.home.questionData\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tremoveRequest: (promise) => removeRequest(dispatch, promise),\n\t\tmanagedRequest: (method, url, options) => adapterService.managedRequest(dispatch, method, url, options),\n\t\tsetGlobalData: data => setGlobalData(dispatch, data),\n\t\tsetQuestionData: data => setQuestionData(dispatch, data),\n\t\tsetLanguage: lang => setLanguage(dispatch, lang)\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header))\n\n","export function getFormJson(xml, lang = 'en') {\n\tconst qnr_data = xml\n\tconst tables = {}\n\tqnr_data['farm_return']['tables']['table'].forEach(table => {\n\t\ttables[table['id_table']] = table\n\t})\n\n\tconst groups = {}\n\tqnr_data['farm_return']['groups']['group'].forEach(group => {\n\t\tgroups[group['id_group']] = group\n\t})\n\tconst categories = {}\n\tqnr_data['farm_return']['categories']['category'].forEach(category => {\n\t\tcategories[category['id_category']] = category\n\t})\n\tconst columns = {}\n\tqnr_data['farm_return']['columns']['column'].forEach(column => {\n\t\tcolumns[column['id_column']] = column\n\t})\n\n\tconst navbar = []\n\tqnr_data['farm_return']['tables']['table'].forEach(table => {\n\t\tlet nav_element = {}\n\t\tnav_element = tables[table['id_table']]\n\n\t\t//add subelements\n\t\tnav_element['groups'] = []\n\t\ttable['allowed_groups'].split(',').forEach(subelement => {\n\t\t\tnav_element['groups'].push(groups[subelement])\n\t\t})\n\t\t//attach subelements to object\n\t\tnavbar.push(nav_element)\n\t})\n\n\tconst collection_of_schemas = {}\n\tnavbar.forEach(nav => {\n\t\tnav['groups'].forEach(g => {\n\t\t\tconst thisGroupId = g['id_group']\n\t\t\tconst newGroup = {...groups[thisGroupId]}\n\t\t\tnewGroup.categories = {}\n\t\t\tg['allowed_categories'].split(',').forEach(categoryName => {\n\t\t\t\tconst newCategory = categories[categoryName]\n\t\t\t\tnewCategory.columns = []\n\t\t\t\tcategories[categoryName]['allowed_columns'].split(',').forEach(columnName => {\n\t\t\t\t\tnewCategory.columns.push(columns[columnName])\n\t\t\t\t\tnewGroup.categories[newCategory.id_category] = newCategory\n\t\t\t\t\tcollection_of_schemas[thisGroupId] = newGroup\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t})\n\treturn {navbar, collection: collection_of_schemas};\n}\n","import React, {Component} from 'react';\nimport {Col, Card, Row, Button} from 'react-bootstrap';\n\nclass Page500 extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app flex-row align-items-center\">\n\t\t\t\t<Card>\n\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t<Col md=\"6\">\n              <span className=\"clearfix\">\n                <h1 className=\"float-left display-3 mr-4\">500</h1>\n                <h4 className=\"pt-3\">Houston, we have a problem!</h4>\n                <p className=\"text-muted float-left\">The page you are looking for is temporarily unavailable.</p>\n              </span>\n\t\t\t\t\t\t\t<Button className={'mb-4'} color=\"info\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.props.history.push('/')\n\t\t\t\t\t\t\t}}>Get back to home</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Page500;\n","import React, {Component} from 'react';\nimport {Button, Col, Card, Row} from 'react-bootstrap';\nimport {withRouter} from 'react-router'\n\nclass Page404 extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app flex-row align-items-center\">\n\t\t\t\t<Card>\n\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t<Col md=\"6\">\n\t\t\t\t\t\t\t<div className=\"clearfix\">\n\t\t\t\t\t\t\t\t<h1 className=\"float-left display-3 mr-4\">404</h1>\n\t\t\t\t\t\t\t\t<h4 className=\"pt-3\">Oops! You're lost.</h4>\n\t\t\t\t\t\t\t\t<p className=\"text-muted float-left\">The page you are looking for was not found.</p>\n\t\t\t\t\t\t\t\t<Button className={'mb-4'} color=\"info\" onClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.history.push('/')\n\t\t\t\t\t\t\t\t}}>Get back on the right path</Button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Page404);\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nconst portalRoot = document.getElementById('portal')\n\nexport default class Portal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.el = document.createElement('div')\n\t}\n\n\tcomponentDidMount() {\n\t\tportalRoot.appendChild(this.el)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tportalRoot.removeChild(this.el)\n\t}\n\n\trender() {\n\t\tconst {children} = this.props\n\t\treturn ReactDOM.createPortal(children, this.el)\n\t}\n}\n","import React, {Component} from 'react';\nimport {\n\tRow, Col, Form,\n\tFormGroup,\n\tButton, InputGroup\n} from 'react-bootstrap'\nimport {withRouter} from 'react-router'\nimport adapterService from '../../adapterService/adapterService'\nimport {connect} from 'react-redux'\nimport {Card} from 'react-bootstrap'\nimport './login.scss'\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tusername: 'jimdemo',\n\t\t\tpassword: 'Bigballs1',\n\t\t\terror: ''\n\t\t}\n\t\tthis.login = this.login.bind(this)\n\t\tthis.validateEmail = this.validateEmail.bind(this)\n\t\tthis.validatePassword = this.validatePassword.bind(this)\n\t\tthis.onInputChange = this.onInputChange.bind(this)\n\t}\n\n\tlogin() {\n\t\tthis.setState({error: '', validated: true})\n\t\t/*\n\t\tadapterService.login(this.state.username, this.state.password)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log('[LOGIN RES]', res)\n\t\t\t\tthis.props.logging(false);\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tdebugger\n\t\t\t\tif (e === -1) {\n\t\t\t\t\tthis.setState({error: 'Username or password invalid'})\n\t\t\t\t} else if (e === -2) {\n\t\t\t\t\tthis.setState({error: 'Problem communicating with server'});\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({error: 'SAS login error with status code ' + e})\n\t\t\t\t\tconsole.log('[ADAPT SERVICE - LOGIN ERROR]', e.message || e.stack)\n\t\t\t\t}\n\t\t\t})\n\t\t*/\n\t\t// })\n\t\t// }\n\t\tthis.props.login(this.state.username, this.state.password)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log('login response', res)\n\t\t\t})\n\t\t\t.catch(e => this.setState({error: e.message}))\n\t}\n\n\tvalidateEmail() {\n\t\tif (!this.state.username) {\n\t\t\treturn undefined\n\t\t}\n\t\t// const isEmail = RegExp(/^[a-zA-Z0-9.!#$%&+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)$/).test(this.state.username.trim())\n\t\tconst isOk = this.state.username.length > 4\n\t\treturn isOk ? 'success' : 'error'\n\t}\n\n\tvalidatePassword() {\n\t\tif (!this.state.password) {\n\t\t\treturn undefined\n\t\t}\n\t\tconst isOk = this.state.password.length > 2\n\t\treturn isOk ? 'success' : 'error'\n\t}\n\n\tonInputChange(e) {\n\t\tconst name = e.target.name\n\t\tconst value = e.target.value\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"login\">\n\t\t\t\t<div className=\"flex justify-content-center align-items-center\">\n\t\t\t\t\t<Card className={'w100 mb0'}>\n\t\t\t\t\t\t<Row className=\"loginForm\">\n\t\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t\t<Form noValidate validated={this.state.validated}>\n\t\t\t\t\t\t\t\t\t<h1>Login</h1>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">Sign In to your account</p>\n\t\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Prepend><i className={'fas fa-user'}/></InputGroup.Prepend>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tname={'username'}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`textInput`}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Username'}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.username}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Prepend><i className={'fas fa-lock'}/></InputGroup.Prepend>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tname={'password'}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'Password'}\n\t\t\t\t\t\t\t\t\t\t\t\ttype={'password'}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.login}\n\t\t\t\t\t\t\t\t\t\t\t\tbsstyle={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.validateEmail() === 'error' || this.validatePassword() === 'error' || !this.state.username || !this.state.password}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={'pull-right'}\n\t\t\t\t\t\t\t\t\t\t\t>Login</Button>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.error && <div className={'text-danger'}>{this.state.error}</div>}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tlogin: (u, p) => adapterService.login(dispatch, u, p)\n\t}\n}\nexport default withRouter(connect(()=>({}), mapDispatchToProps)(Login));\n","import React from 'react'\nimport {Modal} from 'react-bootstrap'\nimport Login from '../../pages/Login/Login'\nimport {connect} from 'react-redux'\nimport './loginModal.scss'\n\nclass LoginModal extends React.PureComponent {\n\trender() {\n\t\treturn (<Modal bssize=\"small\" className={'h100 flex-important align-items-center'}\n\t\t\tshow={this.props.shouldLogin}\n\t\t\tdialogClassName=\"loginModal\"\n\t\t>\n\t\t\t<Modal.Body>\n\t\t\t\t<Login />\n\t\t\t</Modal.Body>\n\t\t</Modal>)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshouldLogin: state.login.shouldLogin\n\t}\n}\n\nexport default connect(mapStateToProps)(LoginModal)\n","import React from 'react'\nimport {withRouter} from 'react-router'\nimport './goBack.scss'\n\nclass GoBack extends React.PureComponent {\n\trender() {\n\t\treturn <div className={'goBackButton'} title={'Back'}>\n\t\t\t<i className=\"fas fa-chevron-left\" onClick={() => this.props.history.goBack()}/>\n\t\t</div>\n\t}\n}\n\nexport default withRouter(GoBack)\n","import React from 'react'\nimport moment from 'moment'\n\nconst LogHeader = (props) => {\n\tconst {log} = props\n\tif (log) {\n\t\tconst title = log.sasProgram === undefined ? 'Unknown service name' : log.sasProgram\n\t\treturn <div>\n\t\t\t<div className={'pull-left'}>{title}</div>\n\t\t\t{log && log.time &&\n\t\t\t<div className={'pull-right'}>{moment(log.time).format('MMM Do YYYY h:mm:ss')}</div>\n\t\t\t}\n\t\t</div>\n\t}\n\treturn null\n\n}\n\nexport default LogHeader\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport GoBack from '../../components/goBack/goBack'\nimport LogHeader from '../../components/logHeader/logHeader'\n\n\nclass ApplicationLogs extends React.Component {\n\n\trender() {\n\t\tconst applicationLogs = this.props.logs.applicationLogs\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<GoBack/>\n\t\t\t\t<h2 className={'text-center'}> Application Logs</h2>\n\t\t\t\t{applicationLogs && applicationLogs.length > 0\n\t\t\t\t\t? applicationLogs.map((log, index) =>\n\t\t\t\t\t\t<div className={'item'} key={index}>\n\t\t\t\t\t\t\t<LogHeader log={log}/>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<pre>{log.message}</pre>\n\t\t\t\t\t\t</div>) : <h4 className={'text-center text-danger'}>Application logs list is empty!</h4>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tlogs: state.adapter.logs\n\t}\n}\n\nexport default connect(mapStateToProps)(ApplicationLogs)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport LogHeader from '../../components/logHeader/logHeader'\nimport GoBack from '../../components/goBack/goBack'\nclass FailedRequests extends React.Component {\n\n\trender() {\n\t\tconst failedRequests = this.props.logs.failedRequests\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<GoBack/>\n\t\t\t\t<h2 className={'text-center'}> Failed Requests</h2>\n\t\t\t\t{ failedRequests && failedRequests.length >0\n\t\t\t\t\t? failedRequests.map((log, index) =>\n\t\t\t\t\t\t<div className={'item'} key={index}>\n\t\t\t\t\t\t\t<LogHeader log={log}/>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<pre>{log.message}</pre>\n\t\t\t\t\t\t</div>):<h4 className={'text-center text-danger'}>Failed Requests list is empty!</h4>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tlogs: state.adapter.logs\n\t}\n}\n\nexport default connect(mapStateToProps)(FailedRequests)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport LogHeader from '../../components/logHeader/logHeader'\nimport GoBack from '../../components/goBack/goBack'\n\nclass ErrorLogs extends React.Component{\n\trender() {\n\t\tconst sasErrors = this.props.logs.sasErrors\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<GoBack/>\n\t\t\t\t<h2 className={'text-center'}> Error Logs</h2>\n\t\t\t\t{ sasErrors && sasErrors.length >0\n\t\t\t\t\t? sasErrors.map((log, index) =>\n\t\t\t\t\t\t<div className={'item'} key={index}>\n\t\t\t\t\t\t\t<LogHeader/>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<pre>{log.message}</pre>\n\t\t\t\t\t\t</div>):<h4 className={'text-center text-danger'}>Error logs list is empty!</h4>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tlogs: state.adapter.logs\n\t}\n}\n\nexport default connect(mapStateToProps)(ErrorLogs)\n","import React from 'react'\nimport './boCollapsible.scss'\n\nclass BoCollapsible extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcollapsed: false\n\t\t}\n\t}\n\n\tcollapse() {\n\t\tthis.setState({\n\t\t\tcollapsed: !this.state.collapsed\n\t\t})\n\t}\n\n\trender() {\n\t\tconst open = this.state.collapsed ? 'open' : ''\n\t\treturn (\n\t\t\t<div className={'boCollapsible'}>\n\t\t\t\t<div className={'title'} onClick={() => {\n\t\t\t\t\tthis.collapse()\n\t\t\t\t}}>\n\t\t\t\t\t<i className={`fas fa-caret-right fa-1x  ${open}`}/>\n\t\t\t\t\t{typeof this.props.title === 'function' ? this.props.title() : this.props.title}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={`content ${open}`}>\n\t\t\t\t\t{typeof this.props.content === 'function' ? this.props.content() : this.props.content}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t)\n\t}\n}\n\nexport default BoCollapsible\n","import React from 'react'\nimport BoCollapsible from '../../components/colapsable/boCollapsible'\nimport GoBack from '../../components/goBack/goBack'\nimport {connect} from 'react-redux'\nimport LogHeader from '../../components/logHeader/logHeader'\n\nclass DebugLogs extends React.Component {\n\trender() {\n\t\tconst debugData = this.props.logs.debugData\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<GoBack/>\n\t\t\t\t<h2 className={'text-center'}> Debug Logs</h2>\n\t\t\t\t{debugData && debugData.length > 0 ?\n\t\t\t\t\tdebugData.map((log, index) => <BoCollapsible\n\t\t\t\t\t\ttitle={<LogHeader log={log}/>}\n\t\t\t\t\t\tcontent={() => <div dangerouslySetInnerHTML={{__html: log.debugHtml}}>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t/>)\n\t\t\t\t\t: <h4 className={'text-center text-danger'}> Debug List is empty!</h4>}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tlogs: state.adapter.logs\n\t}\n}\n\nexport default connect(mapStateToProps)(DebugLogs)\n","import React from 'react'\nimport adapterService from '../../adapterService/adapterService'\nimport {setGlobalData} from '../home/homeActions'\nimport {connect} from 'react-redux'\nimport {Col, Label, FormControl, FormGroup, FieldGroup} from 'react-bootstrap'\nimport DropdownList from 'react-widgets/lib/DropdownList'\nimport './results.scss'\n\nclass Results extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: '',\n\t\t\tfile: null,\n\t\t\tformData: null,\n\t\t\tap: '',\n\t\t\tcountry: ''\n\n\t\t}\n\t\tthis.getFormData = this.getFormData.bind(this)\n\t\tthis.submit = this.submit.bind(this)\n\t\tthis.handleApChange = this.handleApChange.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getFormData(this.props)\n\t}\n\n\tgetFormData(props) {\n\t\tconst {dds_ap_country} = props.globalData\n\t\tif (dds_ap_country) {\n\t\t\tconst ap = {}\n\t\t\tdds_ap_country.forEach(item => {\n\t\t\t\tif (!ap[item.ap]) {\n\t\t\t\t\tap[item.ap] = [item.country]\n\t\t\t\t} else {\n\t\t\t\t\tap[item.ap].push(item.country)\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.setState({formData: ap, ap: Object.keys(ap)[0], country: ap[Object.keys(ap)[0]][0]})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(np) {\n\t\tif (this.props.globalData !== np.globalData) {\n\t\t\tthis.getFormData(np)\n\t\t}\n\t}\n\n\tsubmit(e) {\n\t\te.preventDefault()\n\t\tconsole.log('SUBMIT', {\n\t\t\tap: this.state.ap,\n\t\t\tcountry: this.state.country,\n\t\t\tfile: this.state.file\n\t\t})\n\t}\n\n\thandleApChange(data) {\n\t\tif (this.state.formData[data].indexOf(this.state.country) === -1) {\n\t\t\tthis.setState({ap: data, country: this.state.formData[data][0]})\n\t\t} else {\n\t\t\tthis.setState({ap: data})\n\t\t}\n\t}\n\n\trender() {\n\t\t//Prepare data for dropdowns\n\t\tconst ap = this.state.formData && Object.keys(this.state.formData) || []\n\t\tconst countries = this.state.formData && this.state.ap && this.state.formData[this.state.ap] || []\n\t\treturn <div className={'results'}>\n\t\t\t<div className={'pageTitle'}><h1>Results Submission</h1></div>\n\t\t\t{this.state.formData ? <form className={'results'} onSubmit={e => this.submit(e)}>\n\t\t\t\t<FormGroup controlId=\"accountingPeriod\">\n\t\t\t\t\t<Col sm={6} componentClass={FormControl.Label}>Accounting period</Col>\n\t\t\t\t\t<Col sm={6}>\n\t\t\t\t\t\t<DropdownList\n\t\t\t\t\t\t\tname={'ap'}\n\t\t\t\t\t\t\tdata={ap}\n\t\t\t\t\t\t\tvalue={this.state.ap}\n\t\t\t\t\t\t\tonChange={data => this.handleApChange(data)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</FormGroup>\n\t\t\t\t<FormGroup controlId=\"memberState\">\n\t\t\t\t\t<Col sm={4} componentClass={FormControl.Label}>Member State</Col>\n\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t<DropdownList\n\t\t\t\t\t\t\tfilter\n\t\t\t\t\t\t\tname={'country'}\n\t\t\t\t\t\t\tdata={countries}\n\t\t\t\t\t\t\tvalue={this.state.country}\n\t\t\t\t\t\t\tonChange={data => this.setState({country: data})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</FormGroup>\n\t\t\t\t<FormGroup validationState={this.state.file ? null : 'error'}>\n\t\t\t\t\t<Col sm={4}>\n\t\t\t\t\t\t<FormControl.Label>Upload File</FormControl.Label>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tid={'file'}\n\t\t\t\t\t\t\tname={'file'}\n\t\t\t\t\t\t\ttype={'file'}\n\t\t\t\t\t\t\taccept=\".xml\"\n\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\tthis.setState({file: e.target.files[0]})}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/></Col>\n\t\t\t\t</FormGroup>\n\t\t\t\t<button\n\t\t\t\t\ttype={'submit'}\n\t\t\t\t\tclassName={'btn btn-primary'}\n\t\t\t\t\tdisabled={!this.state.ap || !this.state.country || !this.state.file}\n\t\t\t\t>Submit</button>\n\t\t\t</form> : <div className={'spinner'}><i className={'fa fa-atom fa-spin'}/></div>}\n\t\t</div>\n\t}\n}\n\nfunction mapStateToProps(store) {\n\treturn {\n\t\tmainSpinner: store.header.mainSpinner,\n\t\tuserData: store.home.userData,\n\t\tglobalData: store.home.globalData\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tmanagedRequest: (method, url, data, options) => adapterService.managedRequest(dispatch, method, url, data, options),\n\t\tsetGlobalData: data => setGlobalData(dispatch, data)\n\t}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Results)\n","import React from 'react';\nimport './menuItem.scss'\nimport PropTypes from 'prop-types'\n\nclass MenuItem extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\texpandBoxOpen: false\n\t\t}\n\t\tthis.toggleExpandBox = this.toggleExpandBox.bind(this)\n\t}\n\n\ttoggleExpandBox() {\n\t\tif (this.props.isOpen) {\n\t\t\tthis.setState({\n\t\t\t\texpandBoxOpen: !this.state.expandBoxOpen\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\texpandBoxOpen: true\n\t\t\t})\n\t\t\tthis.props.sideBarOpen()\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {isOpen, title, icon, expandable, content} = this.props\n\t\tconst openClass = isOpen ? 'open' : 'closed'\n\t\tconst arrowDown = this.state.expandBoxOpen ? 'arrowDown' : ''\n\t\treturn (\n\t\t\t<div className={'menuContainer'}>\n\t\t\t\t<div className={`menuItem ${this.props.active && this.props.active === this.props.id ? 'active' : ''}`}\n\t\t\t\t\t\t onClick={() => {\n\t\t\t\t\t\t\t this.toggleExpandBox()\n\t\t\t\t\t\t\t this.props.setActive && this.props.setActive(this.props.id)\n\t\t\t\t\t\t }}>\n\t\t\t\t\t<div className={'menuItemTitle'}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span className={openClass}>{title}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t{expandable &&\n\t\t\t\t\t<div className={'expandBar'}>\n\t\t\t\t\t\t<i className={`toggleIcon fas fa-chevron-right ${arrowDown}`}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.expandBoxOpen &&\n\t\t\t\t<div className={`expandBox ${openClass}`}>\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nMenuItem.propTypes = {\n\tisOpen: PropTypes.bool.isRequired,\n\tsideBarOpen: PropTypes.func.isRequired,\n\tsetActive: PropTypes.func,\n\tactive: PropTypes.string,\n\tid: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\ticon: PropTypes.object,\n\texpandable: PropTypes.bool.isRequired,\n\tcontent: PropTypes.object\n}\n\nMenuItem.defaultProps = {\n\texpandable: false\n}\n\nexport default MenuItem\n","import {Button, Col, FormControl, FormGroup} from 'react-bootstrap'\nimport {DropdownList} from 'react-widgets'\nimport React from 'react'\n\nexport function initialForm() {\n\treturn <div className={'pageTitle'}><h1>Direct Collection</h1>\n\t\t<form>\n\t\t\t<FormGroup controlId=\"accountingPeriod\">\n\t\t\t\t<Col sm={6} componentClass={FormControl.Label}>Farmer name</Col>\n\t\t\t\t<Col sm={6}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.farmerName}\n\t\t\t\t\t\tplaceholder=\"Enter text\"\n\t\t\t\t\t\tonChange={e => this.setState({farmerName: e.target.value})}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</FormGroup>\n\t\t\t<FormGroup controlId=\"memberState\">\n\t\t\t\t<Col sm={4} componentClass={FormControl.Label}>Location code</Col>\n\t\t\t\t<Col sm={8}>\n\t\t\t\t\t<DropdownList\n\t\t\t\t\t\tfilter\n\t\t\t\t\t\tdata={this.state.locationCodeArr}\n\t\t\t\t\t\tvalue={this.state.locationCode}\n\t\t\t\t\t\tonChange={locationCode => this.setState({locationCode})}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</FormGroup>\n\t\t\t<FormGroup controlId=\"accountingPeriod\">\n\t\t\t\t<Col sm={6} componentClass={FormControl.Label}>Farm ID</Col>\n\t\t\t\t<Col sm={6}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.farmerId}\n\t\t\t\t\t\tplaceholder=\"Enter text\"\n\t\t\t\t\t\tonChange={e => this.setState({farmerId: e.target.value})}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</FormGroup>\n\t\t\t<Col sm={12}>\n\t\t\t\t<Button\n\t\t\t\t\tclassName={'pull-left'}\n\t\t\t\t\tbsStyle=\"primary\"\n\t\t\t\t\t// *** Commented out for testing purposes ***\n\t\t\t\t\t// disabled={!this.state.locationCode.length > 0 ||\n\t\t\t\t\t// !this.state.farmerName.length > 0 ||\n\t\t\t\t\t// !this.state.farmerId.length > 0}\n\t\t\t\t\tonClick={this.submitInitialForm}\n\t\t\t\t>\n\t\t\t\t\tBEGIN</Button>\n\t\t\t</Col>\n\t\t</form>\n\t</div>\n}\n","import React from 'react'\nimport adapterService from '../../adapterService/adapterService'\nimport {setGlobalData} from '../home/homeActions'\nimport {connect} from 'react-redux'\nimport {Col, FormControl, FormGroup} from 'react-bootstrap'\nimport './interview.scss'\nimport {DropdownList} from 'react-widgets'\nimport MenuItem from '../../components/menuItem/menuItem'\nimport {initialForm} from './initialForm'\nimport LogoImg from '../../assets/images/eu-transparent.png'\n\n\nclass Interview extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinitialFormSubmitted: false,\n\t\t\terror: '',\n\t\t\tfarmerName: '',\n\t\t\tlocationCode: '',\n\t\t\tfarmerId: '',\n\t\t\tlocationCodeArr: null,\n\t\t\tactiveForm: {\n\t\t\t\tgroup: {},\n\t\t\t\tcategory: {},\n\t\t\t\ttable: {}\n\t\t\t},\n\t\t\tsubmitForm: {}\n\t\t}\n\t\tthis.getCategories = this.getCategories.bind(this)\n\t\tthis.getGroups = this.getGroups.bind(this)\n\t\tthis.listTables = this.listTables.bind(this)\n\t\tthis.submitInitialForm = this.submitInitialForm.bind(this)\n\t\tthis.handleFormInput = this.handleFormInput.bind(this)\n\t\tthis.goToNextForm = this.goToNextForm.bind(this)\n\t\tthis.submitForm = this.submitForm.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLocationCode(this.props)\n\t\tif (this.props.questionData && this.props.questionData.navbar) {\n\t\t\tthis.setInitialActiveForm(this.props)\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(np) {\n\t\tif (this.props.globalData !== np.globalData) {\n\t\t\tthis.getLocationCode(np)\n\t\t}\n\t\tif (this.props.questionData !== np.questionData && np.questionData.navbar) {\n\t\t\tthis.setInitialActiveForm(np)\n\t\t}\n\t}\n\n\tsetInitialActiveForm(props) {\n\t\tconst table = props.questionData.navbar[0]\n\t\tconst group = props.questionData.collection[table.groups[0].id_group]\n\t\tthis.setState({\n\t\t\tactiveForm: {\n\t\t\t\ttable,\n\t\t\t\tgroup,\n\t\t\t}\n\t\t})\n\t}\n\n\tgetLocationCode(data) {\n\t\tif (data.globalData.dd_locationCode) {\n\t\t\tconst locationCodeArr = data.globalData.dd_locationCode.map((item) => {\n\t\t\t\treturn item.value\n\t\t\t})\n\t\t\tthis.setState({\n\t\t\t\tlocationCodeArr\n\t\t\t})\n\t\t}\n\t}\n\n\tsetActiveForm(activeForm) {\n\t\tthis.setState({activeForm})\n\t}\n\n\t// Not used atm, used before for third level menu\n\tgetCategories(group, lang, table) {\n\t\tconst extendedGroup = this.props.questionData.collection[group.id_group]\n\t\tconst categories = Object.values(extendedGroup.categories)\n\t\tif (categories.length > 0) {\n\t\t\treturn <div className={'flex-column'}>{categories.map((c, i) => {\n\t\t\t\tconst classString = `categoryName ${this.state.activeForm.category.id_category +\n\t\t\t\tthis.state.activeForm.group.id_group === c.id_category + group.id_group && 'active'}`\n\t\t\t\treturn <div key={group.id_group + c.id_category + i} className={'category'}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classString}\n\t\t\t\t\t\tonClick={() => this.setState({\n\t\t\t\t\t\t\tactiveForm: {\n\t\t\t\t\t\t\t\tgroup: extendedGroup,\n\t\t\t\t\t\t\t\tcategory: c,\n\t\t\t\t\t\t\t\ttable\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}>{c.name.lang[lang]}</div>\n\t\t\t\t</div>\n\t\t\t})}</div>\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n\n\tgetGroups(table, lang) {\n\t\treturn <div className={'groups flex-column'}>{table.groups.map(g => {\n\t\t\tconst extendedGroup = this.props.questionData.collection[g.id_group]\n\t\t\tconst classString = `groupName ${this.state.activeForm.group.id_group === g.id_group && 'active'}`\n\t\t\treturn <div key={table.id_table + g.id_group}\n\t\t\t\t\t\t\t\t\tclassName={classString}\n\t\t\t\t\t\t\t\t\tonClick={() => this.setState({\n\t\t\t\t\t\t\t\t\t\tactiveForm: {\n\t\t\t\t\t\t\t\t\t\t\tgroup: extendedGroup,\n\t\t\t\t\t\t\t\t\t\t\ttable\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}>{g.name.lang[lang]}</div>\n\t\t})}</div>\n\t}\n\n\thandleFormInput(e) {\n\t\tconst value = e.target.value\n\t\tconst name = e.target.name\n\t\tthis.setState({submitForm: Object.assign({}, this.state.submitForm, {[name]: value})}) //asdf\n\t}\n\n\tgetCurrentForm() {\n\t\tlet activeForm = this.state.activeForm\n\t\tconst extendedGroup = activeForm.group\n\t\tconst categories = Object.values(extendedGroup.categories)\n\t\tconst columns = []\n\t\tcategories.forEach(cat => {\n\t\t\tcat.columns.forEach(col => {\n\t\t\t\tconst newCol = {...col, id_category: cat.id_category, category_name: cat.name.lang[this.props.lang]}\n\t\t\t\tcolumns.push(newCol)\n\t\t\t})\n\t\t})\n\t\treturn <div className={'selectedForm'}>\n\t\t\t<div className={'pageTitle'}><h1>{activeForm.table.name.lang[this.props.lang]}</h1></div>\n\t\t\t<div className={'tableHelp'}><h2>{activeForm.table.help.lang[this.props.lang]}</h2></div>\n\t\t\t<div className={'groupTitle'}><h3>{extendedGroup.name.lang[this.props.lang]}</h3></div>\n\t\t\t<div className={'form'}>\n\t\t\t\t{columns.map(column => {\n\t\t\t\t\tconst id = activeForm.table.id_table + '/' + activeForm.group.id_group + '/' + column.id_category +\n\t\t\t\t\t\t'/' + column.id_column\n\t\t\t\t\treturn <FormGroup\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tcontrolId={id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Col sm={6}\n\t\t\t\t\t\t\t\t componentClass={FormControl.Label}>\n\t\t\t\t\t\t\t{column.category_name} {column.name.lang[this.props.lang]} {column.name.unit && `(${column.name.unit})`}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm={6}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname={id}\n\t\t\t\t\t\t\t\tvalue={this.state.submitForm[id] || ''}\n\t\t\t\t\t\t\t\tonChange={this.handleFormInput}\n\t\t\t\t\t\t\t\t// value={this.state.farmerName}\n\t\t\t\t\t\t\t\t// onChange={e => this.setState({farmerName: e.target.value})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<div className={'btn btn-primary pull-left next mb15'} onClick={this.goToNextForm}>Next</div>\n\t\t\t<div className={'btn btn-primary pull-right next mb15'} onClick={this.submitForm}>Submit</div>\n\t\t</div>\n\t}\n\n\tlistTables(navbar, lang) {\n\t\treturn (\n\t\t\t<div className={'questionContainer'}>\n\t\t\t\t<div className={'sidebar'}>\n\t\t\t\t\t{navbar && <div className={'qMenu'}>\n\t\t\t\t\t\t{navbar.map(table => {\n\t\t\t\t\t\t\treturn <div key={table.id_table} title={table.help.lang[this.props.lang]}><MenuItem\n\t\t\t\t\t\t\t\texpandable\n\t\t\t\t\t\t\t\ttitle={table.name.lang[lang]}\n\t\t\t\t\t\t\t\tid={table.id_table}\n\t\t\t\t\t\t\t\tisOpen={true}\n\t\t\t\t\t\t\t\tsideBarOpen={() => {\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsetActive={() => {\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tactive={this.state.activeForm.table.id_table}\n\t\t\t\t\t\t\t\tcontent={this.getGroups(table, lang)}\n\t\t\t\t\t\t\t/></div>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>}\n\t\t\t\t</div>\n\t\t\t\t<div className={'forms'}>\n\t\t\t\t\t{!this.state.initialFormSubmitted && this.state.locationCodeArr && initialForm.call(this)}\n\t\t\t\t\t{this.state.initialFormSubmitted && this.getCurrentForm()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tgoToNextForm() {\n\t\t// {table: {id_table: '', groups: [{}...]}, group: {id_group: ''}\n\t\tconst activeForm = Object.assign({}, this.state.activeForm)\n\t\tlet activeTable = activeForm.table\n\t\tlet actualGroupIndex = 0\n\t\tfor (let i = 0; i < activeForm.table.groups.length; i++) {\n\t\t\tif (activeForm.table.groups[i].id_group === activeForm.group.id_group) {\n\t\t\t\tactualGroupIndex = i\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst tables = this.props.questionData.navbar\n\t\tconst collection = this.props.questionData.collection\n\t\tif (actualGroupIndex < activeForm.table.groups.length - 1) {\n\t\t\tlet nextIndex = actualGroupIndex + 1\n\t\t\tconst _nextGroup = activeTable.groups[nextIndex]\n\t\t\tconst nextGroup = collection[_nextGroup.id_group]\n\t\t\tthis.setState({\n\t\t\t\tactiveForm: {\n\t\t\t\t\ttable: activeTable,\n\t\t\t\t\tgroup: nextGroup\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (actualGroupIndex === activeForm.table.groups.length - 1) {\n\t\t\tlet activeTableIndex = 0\n\t\t\tfor (let i = 0; i < tables.length; i++) {\n\t\t\t\tif (tables[i].id_table === activeTable.id_table) {\n\t\t\t\t\tactiveTableIndex = i\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (activeTableIndex < tables.length - 1) {\n\t\t\t\tactiveTable = this.props.questionData.navbar[activeTableIndex + 1]\n\t\t\t\tlet firstGroup = this.props.questionData.collection[activeTable.groups[0].id_group]\n\t\t\t\tthis.setState({\n\t\t\t\t\tactiveForm: {\n\t\t\t\t\t\ttable: activeTable,\n\t\t\t\t\t\tgroup: firstGroup\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.log('end of menu')\n\t\t\t}\n\t\t}\n\t}\n\n\tsubmitForm() {\n\t\tconst submitData = []\n\t\t// KEY in submitForm that uniquely identifies input has structure id_table/id_group/id_category/id_column\n\t\tconst submitForm = this.state.submitForm\n\t\tObject.keys(this.state.submitForm).forEach(key => {\n\t\t\tconst ids = key.split('/')\n\t\t\tsubmitData.push({\n\t\t\t\ttable: ids[0],\n\t\t\t\tgroup: ids[1],\n\t\t\t\tcategory: ids[2],\n\t\t\t\tcolumn: ids[3],\n\t\t\t\tanswer: submitForm[key]\n\t\t\t})\n\t\t})\n\t\tconsole.log('SUBMIT DATA', submitData)\n\t}\n\n\trender() {\n\t\tconst navbar = this.props.questionData && this.props.questionData.navbar\n\t\tconst lang = this.props.lang\n\t\treturn <div className={'interview'}>\n\t\t\t{navbar ? this.listTables(navbar, lang)\n\t\t\t\t: <div className={'spinner'}><img src={LogoImg} alt={'logo'}/></div>}\n\t\t</div>\n\t}\n\n\tsubmitInitialForm() {\n\t\t//TODO submit this data;\n\t\tthis.setState({initialFormSubmitted: true})\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tglobalData: state.home.globalData,\n\t\tuserData: state.home.userData,\n\t\tquestionData: state.home.questionData,\n\t\tlang: state.home.language\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\t// managedRequest: (method, url, data, options) => adapterService.managedRequest(dispatch, method, url, data, options),\n\t\tsetGlobalData: data => setGlobalData(dispatch, data)\n\t}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Interview)\n","import React from 'react'\nimport adapterService from '../../adapterService/adapterService'\nimport {setGlobalData} from '../home/homeActions'\nimport {connect} from 'react-redux'\n\nclass Figures extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: ''\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(np) {\n\t}\n\n\trender() {\n\t\treturn <div>Figures page</div>\n\t}\n}\n\nfunction mapStateToProps(store) {\n\treturn {\n\t\tuserData: store.home.userData,\n\t\tglobalData: store.home.globalData\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\t// managedRequest: (method, url, data, options) => adapterService.managedRequest(dispatch, method, url, data, options),\n\t\tsetGlobalData: data => setGlobalData(dispatch, data)\n\t}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Figures)\n","import React from 'react';\nimport 'react-toggle/style.css'\nimport './App.scss';\nimport {Switch, Route} from 'react-router-dom';\nimport Home from './pages/home/home'\nimport Footer from './components/footer/footer'\nimport Header from './components/header/header'\nimport Page500 from './pages/Page500/Page500'\nimport Page404 from './pages/Page404/Page404'\nimport Portal from './components/portal/portal'\nimport LoginModal from './components/loginModal/loginModal'\nimport ApplicationLogs from './pages/applicationLogs/applicationLogs'\nimport FailedRequests from './pages/failedRequests/failedRequests'\nimport ErrorLogs from './pages/errorLogs/errorLogs'\nimport DebugLogs from './pages/debugLogs/debugLogs'\nimport Results from './pages/results/results'\nimport Interview from './pages/interview/interview'\nimport Figures from './pages/figures/figures'\n// import Sidebar from './components/sidebar/sidebar' // comented out\nimport toastr from 'toastr'\nimport {connect} from 'react-redux'\n\n\nclass App extends React.Component {\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.update) {\n\t\t\ttoastr.info('A new version of this app is avaliable, refresh the page to view the changes')\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Header/>\n\t\t\t\t<div className={'main'}>\n\t\t\t\t\t{/*<Sidebar/>*/}\n\t\t\t\t\t<div className={'mainContainer'}>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path='/' component={Home}/>\n\n\t\t\t\t\t\t\t<Route exact path='/results' component={Results}/>\n\t\t\t\t\t\t\t<Route exact path='/interview' component={Interview}/>\n\t\t\t\t\t\t\t<Route exact path='/figures' component={Figures}/>\n\t\t\t\t\t\t\t<Route path='/error' component={Page500}/>\n\t\t\t\t\t\t\t<Route exact path='/applicationLogs' component={ApplicationLogs}/>\n\t\t\t\t\t\t\t<Route exact path='/errorLogs' component={ErrorLogs}/>\n\t\t\t\t\t\t\t<Route exact path='/failedRequests' component={FailedRequests}/>\n\t\t\t\t\t\t\t<Route exact path='/debugLogs' component={DebugLogs}/>\n\t\t\t\t\t\t\t<Route component={Page404}/>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Footer/>\n\t\t\t\t<Portal>\n\t\t\t\t\t<LoginModal/>\n\t\t\t\t</Portal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tupdate: state.header.update\n\t}\n}\n\nexport default connect(mapStateToProps)(App);\n","export default {\n\tMAIN_SPINNER: 'MAIN_SPINNER',\n\tUPDATE_AVAILABLE: 'UPDATE_AVAILABLE'\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nimport {store} from './index.js';\nimport HeaderActionTypes from './components/header/ActionTypes';\n\n// const isLocalhost = Boolean(\n//   window.location.hostname === 'localhost' ||\n//     // [::1] is the IPv6 localhost address.\n//     window.location.hostname === '[::1]' ||\n//     // 127.0.0.0/8 are considered localhost for IPv4.\n//     window.location.hostname.match(\n//       /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n//     )\n// );\n\nconst isLocalhost = false\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\t// const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\t// register custom service worker\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/custom-sw.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tstore.dispatch({\n\t\t\t\t\t\t\t\ttype: HeaderActionTypes.UPDATE_AVAILABLE,\n\t\t\t\t\t\t\t\tpayload: true\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tsetInterval(() => {\n\t\t\t\tregistration.update().catch(e => {\n\t\t\t\t\tconsole.log(\"Updating...\")\n\t\t\t\t})\n\t\t\t}, 5000);\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: {'Service-Worker': 'script'}\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import ActionTypes from './ActionTypes'\n\nconst initalState = {\n\ttest: false,\n\tmainSpinner: false,\n\tuserData: null,\n\tglobalData: {},\n\tquestionData: null,\n\tlanguage: 'en'\n}\n\nexport default function homeReducer(state = initalState, action) {\n\tswitch (action.type) {\n\t\tcase ActionTypes.TEST:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\ttest: action.payload\n\t\t\t})\n\t\tcase ActionTypes.SET_USER_DATA:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tuserData: action.payload\n\t\t\t})\n\t\tcase ActionTypes.SET_GLOBAL_DATA:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tglobalData: action.payload\n\t\t\t})\n\t\tcase ActionTypes.SET_QUESTION_DATA:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestionData: action.payload\n\t\t\t})\n\t\tcase ActionTypes.SET_LANGUAGE:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tlanguage: action.payload\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import ActionTypes from './ActionTypes'\n\nconst initalState = {\n\tshouldLogin: false\n}\n\nfunction loginReducer(state = initalState, action) {\n\tswitch(action.type) {\n\t\tcase ActionTypes.SET_SHOULD_LOGIN:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tshouldLogin: action.state\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default loginReducer\n","import ActionTypes from './ActionTypes'\n\nimport * as adapterLogs from 'h54s/src/logs';\n\nconst initialState = {\n\trequests: new Map(),\n\tlogs: adapterLogs.get.getAllLogs()\n}\n\nexport function adapterReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase ActionTypes.SET_REQUEST:\n\t\t\tconst requests = new Map(state.requests.entries())\n\t\t\tconst newLogs = adapterLogs.get.getAllLogs()\n\t\t\tconst newParams = Object.assign({},requests.get(action.payload.promise), action.payload.params )\n\t\t\trequests.set(action.payload.promise, newParams)\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\trequests,\n\t\t\t\tlogs: newLogs\n\t\t\t})\n\t\tcase ActionTypes.REMOVE_REQUEST:\n\t\t\tconst requestsToRemove = new Map(state.requests.entries())\n\t\t\trequestsToRemove.delete(action.payload)\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\trequests: requestsToRemove\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import ActionTypes from './ActionTypes'\n\nconst initialState = {\n\tmainSpinner: false,\n\tupdate: false\n}\n\nexport default function headerReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase ActionTypes.MAIN_SPINNER:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tmainSpinner: action.payload\n\t\t\t})\n\t\tcase ActionTypes.UPDATE_AVAILABLE: {\n\t\t\treturn Object.assign({}, state, {update: action.payload})\n\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t\t}\n}\n\n","import {createStore, combineReducers, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {createLogger} from 'redux-logger';\nimport homeReducer from './pages/home/homeReducer'\nimport loginReducer from './components/loginModal/loginReducer'\nimport {adapterReducer} from './adapterService/adapterReducer' // eslint-disable-line no-unused-vars\nimport headerReducer from \"./components/header/headerReducer\" // eslint-disable-line no-unused-vars\n\nlet middlewares = []\n\nmiddlewares.push(thunk)\n\nconst showLogs = true\n\n// if (process.env.NODE_ENV !== 'production') {\n// \tif (showLogs) {\n// \t\tmiddlewares.push(createLogger({\n// \t\t  collapsed: true,\n// \t\t  predicate: (getState, action) => action.type !== 'UPDATE_BBOX'\n// \t\t}));\n// \t}\n// }\nif (showLogs) {\n\t\tmiddlewares.push(createLogger({\n\t\t  collapsed: true,\n\t\t  predicate: (getState, action) => action.type !== 'UPDATE_BBOX'\n\t\t}));\n\t}\n\n\nconst reducer = combineReducers({\n\thome: homeReducer,\n\tlogin: loginReducer,\n\tadapter: adapterReducer,\n\theader: headerReducer\n})\n\nexport function getStore(preloadedState) {\n\treturn createStore(reducer, preloadedState,\n    applyMiddleware(...middlewares)\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter as Router} from 'react-router-dom'\nimport {Provider} from 'react-redux'\nimport {getStore} from './store'\nimport ActionTypes from './pages/home/ActionTypes'\n\nexport const store = getStore();\n\nconst RootApp = () => (<Provider store={store}>\n\t<Router>\n\t\t<App/>\n\t</Router>\n</Provider>)\n\nReactDOM.render(RootApp(), document.getElementById('root'));\n\n\nconst setOffline = (state) => {\n\tstore.dispatch({\n\t\ttype: ActionTypes.SET_OFFLINE,\n\t\tstate\n\t})\n}\nwindow.addEventListener('load', () => {\n\n\tfunction checkNetworkStatus(event) {\n\n\t\tif (!navigator.onLine){\n\t\t\tsetOffline(true);\n\t\t}\n\t}\n\n\twindow.addEventListener('offline', checkNetworkStatus())\n\n})\n\n//The second addEventListener is for detecting the offline status while using the appliaction, the first one checks only for initial load\nwindow.addEventListener('offline', () => {\n\tsetOffline(true);\n})\n\nwindow.addEventListener('online', () => {\n\tsetOffline(false);\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/eu-transparent.e6834d28.png\";"],"sourceRoot":""}